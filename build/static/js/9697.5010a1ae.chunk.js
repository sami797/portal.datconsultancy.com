"use strict";
(self["webpackChunkdat_projects"] = self["webpackChunkdat_projects"] || []).push([[9697],{

/***/ 38714:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9950);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2557);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(52765);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(57811);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(80737);
/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(73022);
/* harmony import */ var _styles_module_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28662);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(44414);
const MoreCustomFilters=_ref=>{let{options,onChange,value}=_ref;const[visible,setVisible]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);const overlay=/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"pa-3",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.Group,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.checkboxGroup,options:options,onChange:value=>{onChange(value);setVisible(false);},value:value})})});return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A,{trigger:['click'],open:visible,onOpenChange:visible=>setVisible(visible),dropdownRender:()=>overlay,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.label,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{children:"More Filters"}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A,{})]})})})});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MoreCustomFilters);

/***/ }),

/***/ 39697:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ SiteSettings_Leads)
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__(89379);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(9950);
// EXTERNAL MODULE: ./src/Components/Atoms/index.tsx + 12 modules
var Atoms = __webpack_require__(9394);
// EXTERNAL MODULE: ./src/Components/Organisms/Skeletons/index.tsx
var Skeletons = __webpack_require__(70619);
// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 1 modules
var message = __webpack_require__(92759);
// EXTERNAL MODULE: ./node_modules/antd/es/popconfirm/index.js + 1 modules
var popconfirm = __webpack_require__(56231);
// EXTERNAL MODULE: ./node_modules/antd/es/card/index.js + 3 modules
var card = __webpack_require__(2557);
// EXTERNAL MODULE: ./node_modules/antd/es/dropdown/index.js
var dropdown = __webpack_require__(57811);
// EXTERNAL MODULE: ./node_modules/antd/es/space/index.js + 1 modules
var space = __webpack_require__(80737);
// EXTERNAL MODULE: ./node_modules/antd/es/table/index.js + 96 modules
var table = __webpack_require__(41821);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js
var DeleteOutlined = __webpack_require__(78433);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/DownOutlined.js
var DownOutlined = __webpack_require__(73022);
// EXTERNAL MODULE: ./src/helpers/dateHandler.ts
var dateHandler = __webpack_require__(98933);
// EXTERNAL MODULE: ./src/Modules/Leads/index.ts
var Leads = __webpack_require__(3465);
;// ./src/Components/Organisms/SiteSettings/Leads/styles.module.scss
// extracted by mini-css-extract-plugin
/* harmony default export */ const styles_module = ({"rolePermissionAsideContainer":"styles_rolePermissionAsideContainer__3Fbcu","active":"styles_active__sbWQS","sideBarHeading":"styles_sideBarHeading__FrY3A","adminNavPanelsWrap":"styles_adminNavPanelsWrap__hivkr","textWithIcon":"styles_textWithIcon__U0Co+","textWithIcon__rev":"styles_textWithIcon__rev__PYQLR","collapse":"styles_collapse__72bH8","collapse__normal":"styles_collapse__normal__KJvBN","divider":"styles_divider__6p3Xt","translated":"styles_translated__PGapD","animateTranslation":"styles_animateTranslation__3uRkr","__translate":"styles___translate__fvT9D","negAnimateTranslation":"styles_negAnimateTranslation__rmurT","__negTranslate":"styles___negTranslate__GiVAH","header":"styles_header__FdOdn","content":"styles_content__cOxrF","contentHeader":"styles_contentHeader__lMMhS","content__layout":"styles_content__layout__iR5Ov","content__layout__header":"styles_content__layout__header__YnWOZ","content__layout__content":"styles_content__layout__content__+WuER","content__layout__footer":"styles_content__layout__footer__3tzNX","content__layout__footer__button":"styles_content__layout__footer__button__jDKZv","actions":"styles_actions__8mPxx","bg__red":"styles_bg__red__Mq-yX","form":"styles_form__qzjKT","footer":"styles_footer__XKxAs","opacity_6":"styles_opacity_6__gUx09","dropdown":"styles_dropdown__Ib38M","overlay":"styles_overlay__PXB3+","overlay_item":"styles_overlay_item__hL2vE","overlay_popConfirm":"styles_overlay_popConfirm__wNvJe","disabledButton":"styles_disabledButton__OtMFl","tabs":"styles_tabs__O3NSQ","message":"styles_message__MChEo"});
// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 21 modules
var es = __webpack_require__(98341);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(44414);
;// ./src/Components/Organisms/SiteSettings/Leads/table-columns.tsx
const ActionComponent=props=>{const{record,onEditIconClick,onAddNoteClick,reloadTableData,permissions:{deleteLeads}}=props;const module=(0,react.useMemo)(()=>new Leads/* LeadsModule */.Q(),[]);const[actionState,setActionState]=(0,react.useState)({confirmLoading:false,openPopConfirm:false});const showPopconfirm=()=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:true}));};const handleDelete=()=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{confirmLoading:true}));if(deleteLeads===false){message/* default */.Ay.error("You don't have permission to delete this record, please contact your admin.");setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false}));return;}module.deleteRecord(record.id).then(()=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false,confirmLoading:false}));reloadTableData();}).catch(err=>{var _err$response,_err$response$data;const errorMessage=err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message;message/* default */.Ay.error(errorMessage||"Something went wrong, please try again later.");setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{confirmLoading:false}));});};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:styles_module.actions,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{onClick:()=>onEditIconClick(record),children:/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:"/images/editicon.svg",alt:"Edit Icon"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{onClick:()=>onAddNoteClick(record),children:/*#__PURE__*/(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"#fff",width:19,height:19,children:/*#__PURE__*/(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z"})})}),/*#__PURE__*/(0,jsx_runtime.jsx)(popconfirm/* default */.A,{open:actionState.openPopConfirm,placement:"top",title:"Are you sure?",onConfirm:handleDelete,onCancel:()=>setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false})),okButtonProps:{loading:actionState.confirmLoading},okText:"Yes",cancelText:"No",onOpenChange:visible=>{if(!visible){setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false}));}},children:/*#__PURE__*/(0,jsx_runtime.jsx)(DeleteOutlined/* default */.A,{className:styles_module.bg__red,onClick:showPopconfirm})})]});};const statusColors={1:'#00337C',2:"#144272",3:"#1F8A70",4:"#AD8E70",5:"#EB1D36",6:"#EB1D36"};/** Status Dropdown */const StatusDropdown=props=>{const{status,recordId,reloadTableData,changeStatus}=props;const[messageApi,contextHolder]=message/* default */.Ay.useMessage();const module=(0,react.useMemo)(()=>new Leads/* LeadsModule */.Q(),[]);const openMessage=data=>{messageApi.open({key:data.key,type:data.type,content:data.content,duration:data.type==="loading"?0:2});};// controls the dropdown visibility
const[visible,setVisible]=(0,react.useState)(false);// handle dropdown menu visibility change event
const onVisibleChange=flag=>{setVisible(flag);};const onStatusChange=_status=>{if(recordId&&changeStatus===true){openMessage({key:"update",type:"loading",content:"Updating..."});module.changeStatus(Number(recordId),_status).then(res=>{var _res$data;if(res!==null&&res!==void 0&&(_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.data){var _res$data2;openMessage({key:"update",type:"success",content:res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.message});setVisible(!visible);reloadTableData();}}).catch(err=>{var _err$response2,_err$response2$data;openMessage({key:"update",type:"error",content:err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message});});}else{openMessage({key:"update",type:"error",content:"You don't have permission to change status"});}};const overlay=/*#__PURE__*/(0,jsx_runtime.jsxs)(card/* default */.A,{className:"".concat(styles_module.overlay," pa-2"),children:[contextHolder,Object.entries([]).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:styles_module.overlay_item,onClick:()=>{if(status!==Number(value)){const selectedStatus=Number(value);onStatusChange(selectedStatus);}},children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:status===Number(value)?styles_module.disabledButton:"",children:key})},"leads-status-".concat(key));})]});return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(dropdown/* default */.A,{dropdownRender:()=>overlay,trigger:changeStatus===true?["click"]:[],open:changeStatus===true?visible:false,onOpenChange:onVisibleChange,className:styles_module.dropdown,children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)(space/* default */.A,{style:{backgroundColor:statusColors[status],color:"#fff",padding:"0.2rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.8rem",display:"flex",width:"100%",justifyContent:"space-between"},children:[Object.entries([]).map(_ref2=>{let[key,value]=_ref2;return value===String(status)&&key;}),changeStatus===true&&/*#__PURE__*/(0,jsx_runtime.jsx)(DownOutlined/* default */.A,{})]})})})});};function TableComponent(props){const{tableData,tableLoading,emptyText,reloadTableData,onEditIconClick,onAddNoteClick}=props;const{userPermissions}=(0,es/* useSelector */.d4)(state=>state.usersReducer);const permissions=userPermissions;const{updateLeadsStatus,updateLeads}=permissions;/**
     * Get the redirect url for whatsapp leads
     * @param record leads record
     */ // const getWhatsappRedirectUrl = async (record: LeadsTypes) => {
//     if (record.source === "whatsapp") {
//         const uuid = record?.uuid
//         const leadId = record?.id
//         const ID = `${uuid}--${leadId}`
//         const apiURL = `${BASE_URL}leads/get-redirect-link/${ID}`
//         const res = await fetch(apiURL)
//         const response = await res.json()
//         const { data } = response
//         if (data) {
//             // open a new tab with the redirect url
//             window.open(data?.redirectUrl, "_blank")
//         }
//     }
// }
const columns=[{title:"S.No",dataIndex:"index",key:"index",render:(_text,_record,index)=>index+1,width:"60px"},{title:'User',dataIndex:"user",key:"user",render:(_user,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"d-flex",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"my-auto",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-sub",size:"xs",children:"Added: ".concat((0,dateHandler/* convertDate */.ic)(record===null||record===void 0?void 0:record.addedDate,"dd M,yy-t"))}),(record===null||record===void 0?void 0:record.modifiedDate)&&/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-sub",size:"xs",children:"Modified: ".concat((0,dateHandler/* convertDate */.ic)(record===null||record===void 0?void 0:record.modifiedDate,"dd M,yy-t"))})]})}),width:"15%"},// {
//     title: 'Source',
//     dataIndex: "source",
//     key: "source",
//     className: 'text-center',
//     render: (source: keyof typeof LeadsSource) => (
//         <Typography color="dark-main" size="sm">
//             {LeadsSource[source]}
//         </Typography>
//     ),
//     width: "100px",
// },
{title:'Message',dataIndex:"message",key:"message",render:(message,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-main",size:"sm",className:styles_module.message,children:message})}),width:"200px"}// {
//     title: 'Property',
//     dataIndex: "property",
//     key: "property",
//     render: (property: LeadsTypes['property'], record: LeadsTypes) => (
//         <>
//             {property?.id && (
//                 <Typography color="dark-main" size="sm">
//                     {`ID: ${property?.id}`}
//                 </Typography>
//             )}
//             {property?.localization && (
//                 <Paragraph
//                     title={property.localization[0]?.title}
//                     ellipsis={{
//                         rows: 1,
//                         expandable: false,
//                     }}
//                     copyable={{ text: property.localization[0]?.title }}
//                     className="font-size-xs color-dark-sub mb-0 mt-1"
//                 >
//                     Name: {property.localization[0]?.title}
//                 </Paragraph>
//             )}
//             {property?.category?.slug && (
//                 <Typography color="dark-sub" size="xs">
//                     ""
//                     {/* {`Category: ${PropertyCategories[property.category.slug]}`} */}
//                 </Typography>
//             )}
//             {/** View Property On Main Website (Users Website) */}
//             {property?.slug && (
//                 <div className="d-flex">
//                     <Typography color="dark-main" size="sm" weight="bold">
//                         View Property:
//                     </Typography>
//                     <a
//                         href={`${FRONT_END_URL}/en/property/${property.slug}`}
//                         target="_blank"
//                         rel="noreferrer"
//                         title={property.localization[0]?.title}
//                     >
//                         <svg
//                             xmlns="http://www.w3.org/2000/svg"
//                             fill="none"
//                             viewBox="0 0 24 24"
//                             strokeWidth={1.5}
//                             stroke="currentColor"
//                             height={"16px"}
//                             width={"17px"}
//                         >
//                             <path
//                                 strokeLinecap="round"
//                                 strokeLinejoin="round"
//                                 d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"
//                             />
//                         </svg>
//                     </a>
//                 </div>
//             )}
//             {record.reference && (
//                 <Typography color="dark-sub" size="xs">
//                     {`Reference: ${record.reference}`}
//                 </Typography>
//             )}
//         </>
//     ),
//     width: "15%",
// },
// {
//     title: 'Organization/Agent',
//     dataIndex: "organization",
//     key: "organization",
//     render: (organization: LeadsTypes['organization'], record: LeadsTypes) => (
//         <>
//             {organization && (
//                 <>
//                     <Paragraph
//                         title={organization?.name}
//                         ellipsis={{
//                             rows: 1,
//                             expandable: false,
//                         }}
//                         copyable={{ text: organization?.name }}
//                         className="font-size-sm color-dark-main mb-0 mt-1"
//                     >
//                         Org Name: {organization?.name}
//                     </Paragraph>
//                     <Typography color="dark-sub" size="xs">
//                         {`Org ID: ${organization?.id}`}
//                     </Typography>
//                 </>
//             )}
//             {record.assignedTo && (
//                 <>
//                     <Typography color="dark-sub" size="xs">
//                         {`Agent ID: ${record.assignedTo?.id}`}
//                     </Typography>
//                     <Typography color="dark-sub" size="xs">
//                         {`Agent Name: ${record.assignedTo?.firstName} ${record.assignedTo?.lastName}`}
//                     </Typography>
//                 </>
//             )}
//         </>
//     ),
//     width: "12%",
// },
];if(updateLeadsStatus===true){columns.push({title:'Status',dataIndex:"status",key:"status",render:(status,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(StatusDropdown,{recordId:record.id,status:Number(status),reloadTableData:reloadTableData,changeStatus:updateLeadsStatus}),width:"10%"});}if(updateLeads===true){columns.push({title:"Actions",dataIndex:"actions",key:"actions",render:(_text,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(ActionComponent,{record:record,onEditIconClick:onEditIconClick,reloadTableData:reloadTableData,onAddNoteClick:onAddNoteClick,permissions:permissions}),width:"8%"});}return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(table/* default */.A,{sticky:true,dataSource:tableData,columns:columns,pagination:false,scroll:{x:991},loading:tableLoading,rowKey:record=>"leads-".concat(record.id),locale:{emptyText:emptyText}})});}
// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js + 30 modules
var es_select = __webpack_require__(97554);
// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 18 modules
var es_form = __webpack_require__(10678);
// EXTERNAL MODULE: ./node_modules/antd/es/tabs/index.js + 22 modules
var tabs = __webpack_require__(92555);
// EXTERNAL MODULE: ./node_modules/antd/es/skeleton/index.js + 11 modules
var skeleton = __webpack_require__(46005);
// EXTERNAL MODULE: ./node_modules/antd/es/empty/index.js + 2 modules
var empty = __webpack_require__(90247);
// EXTERNAL MODULE: ./node_modules/antd/es/input-number/index.js + 10 modules
var input_number = __webpack_require__(40202);
// EXTERNAL MODULE: ./src/Components/Organisms/SiteSettings/Common/styles.module.scss
var Common_styles_module = __webpack_require__(41394);
;// ./src/Components/Organisms/SiteSettings/Leads/Notes/styles.module.scss
// extracted by mini-css-extract-plugin
/* harmony default export */ const Notes_styles_module = ({"note":"styles_note__sDQf8","note_footer":"styles_note_footer__qGtXa","note_footer_name":"styles_note_footer_name__GUR8L","note_footer_date":"styles_note_footer_date__nMG+R"});
// EXTERNAL MODULE: ./src/Components/Atoms/ServerErrorHandler/index.tsx
var ServerErrorHandler = __webpack_require__(13321);
// EXTERNAL MODULE: ./src/helpers/error-handler.ts
var error_handler = __webpack_require__(38266);
// EXTERNAL MODULE: ./src/Modules/Country/index.ts
var Country = __webpack_require__(83584);
// EXTERNAL MODULE: ./node_modules/antd/es/typography/index.js + 15 modules
var typography = __webpack_require__(30377);
// EXTERNAL MODULE: ./src/Components/Icons/index.tsx + 58 modules
var Icons = __webpack_require__(63668);
;// ./src/Components/Organisms/SiteSettings/Leads/Notes/logs-table.tsx
const{Paragraph}=typography/* default */.A;const LogsTable=_ref=>{let{data}=_ref;const columns=[{title:"S.No",dataIndex:"index",key:"index",render:(text,record,index)=>index+1,width:"60px"},{title:'User',dataIndex:"user",key:"user",render:(user,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"d-flex",children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"my-auto",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"d-flex mt-4",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Icons/* CalenderIcon */.e$,{className:"mr-2"}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-sub",size:"sm",children:"".concat((0,dateHandler/* convertDate */.ic)(record.addedDate,"dd MM yy"))})]})})}),width:"18%"},{title:'Message',dataIndex:"message",key:"message",render:message=>/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-main",size:"sm",children:message}),width:"20%"}// {
//     title: 'Note',
//     dataIndex: 'note',
//     key: 'note',
//     render: (note: LeadsTypes['leadNotes']) => (
//         <span>{note?.map((item) => item.note)}</span>
//     )
// },
];return/*#__PURE__*/(0,jsx_runtime.jsx)(table/* default */.A,{dataSource:data,columns:columns});};/* harmony default export */ const logs_table = (LogsTable);
// EXTERNAL MODULE: ./src/helpers/useDebounce.ts
var useDebounce = __webpack_require__(28173);
// EXTERNAL MODULE: ./src/Modules/Properties/index.ts
var Properties = __webpack_require__(40743);
;// ./src/Components/Organisms/SiteSettings/Leads/modal.tsx
// import { LeadsSource } from "../../../../helpers/commonEnums";
const{Option}=es_select/* default */.A;const LeadsModal=props=>{var _recordData$data,_recordData$data$lead,_properties$data,_recordData$data2,_recordData$data3,_recordData$data4;const{openModal,onCancel,type,record,reloadTableData,permissions:{createLeads,updateLeads}}=props;const[form]=es_form/* default */.A.useForm();const module=(0,react.useMemo)(()=>new Leads/* LeadsModule */.Q(),[]);const countryModule=(0,react.useMemo)(()=>new Country/* CountryModule */.j(),[]);// properties module
const propertiesModule=(0,react.useMemo)(()=>new Properties/* PropertiesModule */.G(),[]);const[recordData,setRecordData]=(0,react.useState)();const[countries,setCountries]=(0,react.useState)([]);const[fetchNoteLogs,setFetchNoteLogs]=(0,react.useState)(false);const[leadsLogs,setLeadsLogs]=(0,react.useState)([]);const[properties,setProperties]=(0,react.useState)({data:[],loading:false});const[searchTerm,setSearchTerm]=(0,react.useState)("");const debouncedSearchTerm=(0,useDebounce/* useDebounce */.d)(searchTerm,500);const handleErrors=err=>{const error=(0,error_handler/* errorHandler */.r)(err);if(typeof error.message=="string"){setRecordData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},recordData),{},{error:error.message}));}else{let errData=(0,ServerErrorHandler/* HandleServerErrors */.p)(error.message,[]);form.setFields(errData);setRecordData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},recordData),{},{error:""}));}};const handleAlertClose=()=>setRecordData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},recordData),{},{error:""}));const getDataById=(0,react.useCallback)(()=>{module.getRecordById(record).then(res=>{if(res.data&&res.data.data){// form.setFieldsValue({
//     translations: res.data.data.localization,
//     ...res.data.data,
//     isPublished: res.data.data.isPublished,
// });
setRecordData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},res.data),{},{loading:false}));}}).catch(err=>{handleErrors(err);});},[form,record,module]);const getCountryList=(0,react.useCallback)(()=>{countryModule.getAvailableRecords().then(res=>{if(res.data&&res.data.data){setCountries(res.data.data);}});},[countryModule]);const getNoteLogs=(0,react.useCallback)(query=>{if(type==="notes"&&fetchNoteLogs){module.notelogs(record,query).then(res=>{if(res.data&&res.data.data){setLeadsLogs(res.data.data);}}).catch(err=>{handleErrors(err);});}},[module,record,type,fetchNoteLogs]);(0,react.useEffect)(()=>{getNoteLogs();},[getNoteLogs]);// Get the locations data from the api when the user searches for a location
const onPropertySearch=(0,react.useCallback)(()=>{if(debouncedSearchTerm){setProperties(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:true}));propertiesModule.getAllRecords({title:debouncedSearchTerm}).then(res=>{if(res.data.data){const data=res.data.data;setProperties(prev=>{// if the data is already present in the state, then don't add it again
const filteredData=data.filter(item=>{return!prev.data.some(prevItem=>prevItem.id===item.id);});return (0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{data:[...prev.data,...filteredData],loading:false});});}}).catch(err=>{message/* default */.Ay.error(err.response.data.message||"Something went wrong while fetching the properties");setProperties(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));});}},[debouncedSearchTerm]);(0,react.useEffect)(()=>{onPropertySearch();},[onPropertySearch]);(0,react.useEffect)(()=>{if(type==="edit"){setRecordData({loading:true});// fetch data by slug or id
getDataById();// fetch the countries
getCountryList();}else if(type==="notes"){// fetch data by slug or id
getDataById();}else{form.resetFields();}},[openModal,type,form,getDataById,getCountryList]);const onFinish=formValues=>{setRecordData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},recordData),{},{buttonLoading:true}));// formValues.phoneCode = formValues?.phoneCode || "971";
// formValues.phone = String(formValues?.phone) || "";
switch(type){case"edit":{if(updateLeads===true){module.updateRecord(formValues,record).then(res=>{var _res$data;if(res!==null&&res!==void 0&&(_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.data){reloadTableData();}onCancel();setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{buttonLoading:false}));}).catch(err=>{handleErrors(err);setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{buttonLoading:false}));});}else{setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{buttonLoading:false}));message/* default */.Ay.error("You don't have enough permission to update leads");}break;}case"notes":{// if (updateLeads === true) {
//     module.addNote(record, formValues.note).then((res) => {
//         if (res?.data?.data) {
//             reloadTableData();
//         }
//         onCancel();
//         setRecordData((prev) => ({ ...prev, buttonLoading: false }));
//     }).catch((err) => {
//         handleErrors(err);
//         setRecordData((prev) => ({ ...prev, buttonLoading: false }));
//     })
// } else {
//     setRecordData((prev) => ({ ...prev, buttonLoading: false }));
//     message.error("You don't have enough permission to add notes")
// }
break;}case"new":{if(createLeads===true){// module.createRecord({ ...formValues, slug: "admin-panel" }).then(() => {
//     reloadTableData();
//     onCancel();
//     setRecordData((prev) => ({ ...prev, buttonLoading: false }));
// }).catch((err) => {
//     handleErrors(err);
//     setRecordData((prev) => ({ ...prev, buttonLoading: false }));
// });
}else{setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{buttonLoading:false}));message/* default */.Ay.error("You don't have enough permission to create leads");}break;}}};return/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomModal */.jo,{visible:openModal,closable:true,onCancel:onCancel,titleText:type==="edit"?"Edit Lead":type==="notes"?"Notes":"Add Lead",showFooter:false,size:type==="notes"?"1000px":"600px",children:recordData!==null&&recordData!==void 0&&recordData.loading?/*#__PURE__*/(0,jsx_runtime.jsx)(Skeletons/* default */.A,{items:10}):/*#__PURE__*/(0,jsx_runtime.jsxs)(es_form/* default */.A,{className:Common_styles_module/* default */.A.form,onFinish:onFinish,form:form,children:[(recordData===null||recordData===void 0?void 0:recordData.error)&&/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomErrorAlert */.WZ,{description:recordData===null||recordData===void 0?void 0:recordData.error,isClosable:true,onClose:handleAlertClose}),type==="notes"?/*#__PURE__*/(0,jsx_runtime.jsxs)(tabs/* default */.A,{type:"card",defaultActiveKey:"addNote",onChange:key=>key==="logs"?setFetchNoteLogs(true):setFetchNoteLogs(false),className:styles_module.tabs,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)(tabs/* default */.A.TabPane,{tab:"Notes",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:recordData===null||recordData===void 0?void 0:(_recordData$data=recordData.data)===null||_recordData$data===void 0?void 0:(_recordData$data$lead=_recordData$data.leadNotes)===null||_recordData$data$lead===void 0?void 0:_recordData$data$lead.map(note=>{var _note$addedBy,_note$addedBy2;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:Notes_styles_module.note,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:Notes_styles_module.note_content,children:note===null||note===void 0?void 0:note.note}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:Notes_styles_module.note_footer,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:Notes_styles_module.note_footer_name,children:[note===null||note===void 0?void 0:(_note$addedBy=note.addedBy)===null||_note$addedBy===void 0?void 0:_note$addedBy.firstName," ",note===null||note===void 0?void 0:(_note$addedBy2=note.addedBy)===null||_note$addedBy2===void 0?void 0:_note$addedBy2.lastName]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:Notes_styles_module.note_footer_date,children:(0,dateHandler/* convertDate */.ic)(note===null||note===void 0?void 0:note.addedDate,"dd M,yy-t")})]})]},"note-".concat(note===null||note===void 0?void 0:note.id));})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"note",rules:[{required:true,message:"Please add notes"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{size:"w100",label:"Notes",type:"textArea",name:"note",placeHolder:"Add notes here...."})})]},"addNote"),/*#__PURE__*/(0,jsx_runtime.jsx)(tabs/* default */.A.TabPane,{tab:"Logs",children:/*#__PURE__*/(0,jsx_runtime.jsx)(logs_table,{data:leadsLogs})},"logs")]}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[type==="new"&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)(es_form/* default */.A.Item,{name:"propertyId",rules:[{required:true,message:"Please select a property"}],style:{marginTop:10},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"font-size-sm",children:["Property ",/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"color-red-yp",children:"*"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_select/* default */.A,{allowClear:true,style:{width:"100%"},placeholder:"Search for a property",className:"selectAntdCustom",onChange:value=>form.setFieldsValue({propertyId:value}),showSearch:true,onSearch:value=>setSearchTerm(value),optionFilterProp:"label",options:properties===null||properties===void 0?void 0:(_properties$data=properties.data)===null||_properties$data===void 0?void 0:_properties$data.map(item=>{return{label:item.localization[0].title,value:item.id};}),notFoundContent:(properties===null||properties===void 0?void 0:properties.loading)===true?/*#__PURE__*/(0,jsx_runtime.jsx)(skeleton/* default */.A,{}):/*#__PURE__*/(0,jsx_runtime.jsx)(empty/* default */.A,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:100},description:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:"No data found, Please search for a property"})})})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"source",rules:[{required:true,message:"Please select source"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomSelect */.Ae,{asterisk:true,label:"Source",options:Object.entries([]).map(_ref=>{let[key,value]=_ref;return{label:value,value:key};}),placeholder:"Select source"})})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"name",rules:[{required:true,message:"Please add name"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{size:"w100",label:"Name",asterisk:true,type:"text"})})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)("label",{className:"font-size-sm",children:["Phone  ",/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"color-red-yp",children:"*"}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"phone",rules:[{required:true,message:"Please add phone"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(input_number/* default */.A,{type:"number",addonBefore:/*#__PURE__*/(0,jsx_runtime.jsx)(es_select/* default */.A,{style:{width:98},placeholder:"Select phone code",defaultValue:type==="new"?"971":(recordData===null||recordData===void 0?void 0:(_recordData$data2=recordData.data)===null||_recordData$data2===void 0?void 0:_recordData$data2.phoneCode)||"971"// onChange={(value) => {
//     form.setFieldsValue({ phoneCode: value });
// }}
,children:countries===null||countries===void 0?void 0:countries.map(item=>{return/*#__PURE__*/(0,jsx_runtime.jsxs)(Option,{value:item.phoneCode,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:item.flag}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"ml-1",children:"".concat(item.phoneCode)})]});})}),placeholder:"Enter phone number",defaultValue:type==="new"?"":recordData===null||recordData===void 0?void 0:(_recordData$data3=recordData.data)===null||_recordData$data3===void 0?void 0:_recordData$data3.phone,controls:false})})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"email",rules:[{required:type==="new"?true:false,message:"Please add email"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{size:"w100",label:"Email",asterisk:type==="new",type:"text"})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"message",rules:[{required:true,message:"Please add message"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{size:"w100",label:"Message",asterisk:true,type:"textArea",defaultValue:type==="new"?"":recordData===null||recordData===void 0?void 0:(_recordData$data4=recordData.data)===null||_recordData$data4===void 0?void 0:_recordData$data4.message})})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:Common_styles_module/* default */.A.footer,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomButton */.Sv,{size:"normal",fontSize:"sm",onClick:onCancel,type:"plain",children:"Cancel"}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomButton */.Sv,{type:"primary",size:"normal",fontSize:"sm",htmlType:"submit",loading:recordData===null||recordData===void 0?void 0:recordData.buttonLoading,children:"Submit"})]})]})});};
// EXTERNAL MODULE: ./src/Components/Organisms/Common/styles.module.scss
var Organisms_Common_styles_module = __webpack_require__(96019);
// EXTERNAL MODULE: ./src/Modules/Leads/permissions.ts
var Leads_permissions = __webpack_require__(79569);
// EXTERNAL MODULE: ./src/Components/Templates/SiteSettings/index.tsx
var SiteSettings = __webpack_require__(16181);
// EXTERNAL MODULE: ./src/helpers/common.ts
var common = __webpack_require__(88132);
// EXTERNAL MODULE: ./src/Modules/PropertyCategory/index.ts
var PropertyCategory = __webpack_require__(90831);
// EXTERNAL MODULE: ./src/Components/Atoms/CustomFilter/more.tsx
var more = __webpack_require__(38714);
// EXTERNAL MODULE: ./src/Modules/Organization/index.ts
var Organization = __webpack_require__(42361);
// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js
var es_button = __webpack_require__(48538);
// EXTERNAL MODULE: ./src/Components/Atoms/ErrorCodes/index.tsx + 1 modules
var ErrorCodes = __webpack_require__(36250);
;// ./src/Components/Organisms/SiteSettings/Leads/index.tsx
const breadCrumbsData=[{text:"Home",isLink:true,path:"/"},{isLink:true,text:"Site Settings",path:"/siteSettings"},{isLink:false,text:"Leads"}];const LeadsSettings=()=>{var _organizationData$dat,_propertyCategories$d,_moduleData$data3,_moduleData$meta3,_moduleData$meta4,_moduleData$meta5,_moduleData$meta6;// available permissions for the properties page
const permissionSlug=(0,common/* getPermissionSlugs */.AH)(Leads_permissions/* LeadsPermissionsEnum */.p);const{userPermissions}=(0,es/* useSelector */.d4)(state=>state.usersReducer);const permissions=userPermissions;const{readLeads,createLeads,updateLeads}=permissions;const propertyCategoryModule=(0,react.useMemo)(()=>new PropertyCategory/* PropertyCategoryModule */.Y(),[]);const orgModule=(0,react.useMemo)(()=>new Organization/* OrganizationModule */.I(),[]);const leadsModule=(0,react.useMemo)(()=>new Leads/* LeadsModule */.Q(),[]);const[orgSearchTerm,setOrgSearchTerm]=(0,react.useState)("");const debouncedOrgSearchTerm=(0,useDebounce/* useDebounce */.d)(orgSearchTerm,500);const[moreFilters,setMoreFilters]=(0,react.useState)([]);const[moduleData,setModuleData]=(0,react.useState)({loading:false,data:[]});const[organizationData,setOrganizationData]=(0,react.useState)({data:[],loading:false});const[propertyCategories,setPropertyCategories]=(0,react.useState)({data:[],loading:false});const[currentEditType,setCurrentEditType]=(0,react.useState)({editType:"new",recordId:0,openModal:false});const[selectedFilters,setSelectedFilters]=(0,react.useState)({status:"",dateRange:[""],name:"",propertyId:0,phone:"",email:"",propertyCategory:undefined,organizationId:0,propertyUrl:"",source:undefined,sortOrder:"",sortByField:""});const[reset,setReset]=(0,react.useState)(false);const[excelData,setExcelData]=(0,react.useState)([]);// headers for the excel export
const headers=[{label:"Name",key:"name"},{label:"Email",key:"email"},{label:"Phone",key:"phone"},{label:"Source",key:"source"},{label:"Date Added",key:"addedDate"},{label:"Status",key:"status"},{label:"Property ID",key:"propertyId"},{label:"Assigned To",key:"assignedTo"},{label:"Organization",key:"organization"},{label:"Message",key:"message"},{label:"Reference",key:"reference"}];const onSelected=event=>{const{name,value}=event===null||event===void 0?void 0:event.target;if(name==="organizationId"||name==="propertyId"){const isValidNumber=(0,common/* isNumber */.Et)(value);if(!isValidNumber){let label="";switch(name){case"organizationId":{label="Organization ID";break;}case"propertyId":{label="Property ID";break;}}return message/* default */.Ay.error("".concat(label," should be a number"));}}// set the selected value in the state 
setSelectedFilters((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},selectedFilters),{},{[name]:value}));};const onReset=(0,react.useCallback)((name,value)=>{if(name){setReset(true);setSelectedFilters((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},selectedFilters),{},{[name]:value}));}},[selectedFilters]);const onCancelClick=()=>{setCurrentEditType((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentEditType),{},{openModal:!currentEditType.openModal,editType:"new"}));};const onAddNewLeadClick=()=>{if(createLeads===false){message/* default */.Ay.error("You don't have permission to create new record");return;}setCurrentEditType((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentEditType),{},{openModal:!currentEditType.openModal,editType:"new"}));};const onEditIconClick=record=>{if(updateLeads===false){message/* default */.Ay.error("You don't have permission to update record");return;}setCurrentEditType((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentEditType),{},{editType:"edit",recordId:record.id,openModal:true}));};const onAddNoteClick=record=>{setCurrentEditType((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentEditType),{},{editType:"notes",recordId:record.id,openModal:true}));};// get the search result for the organization
const GetSearchResult=(0,react.useCallback)(()=>{if(debouncedOrgSearchTerm){setOrganizationData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:true}));orgModule.findPublished({name:debouncedOrgSearchTerm}).then(res=>{var _res$data;const data=(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.data;if(data){// remove duplicate data
const uniqueData=data.filter((item,index)=>{return data.findIndex(ele=>ele.id===item.id)===index;});setOrganizationData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{data:uniqueData}));}}).catch(err=>{var _err$response,_err$response$data;message/* default */.Ay.error((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||"Something went wrong");}).finally(()=>{setOrganizationData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));});}},[debouncedOrgSearchTerm,orgModule]);(0,react.useEffect)(()=>{GetSearchResult();},[GetSearchResult]);const getData=(0,react.useCallback)(()=>{propertyCategoryModule.getAllRecords().then(res=>{setPropertyCategories(res.data);}).catch(()=>{setPropertyCategories((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},propertyCategories),{},{loading:false}));});},[propertyCategories]);(0,react.useEffect)(()=>{getData();},[]);const onUpdate=(0,react.useCallback)(query=>{var _selectedFilters$date,_selectedFilters$date2;const fromDateString=((_selectedFilters$date=selectedFilters.dateRange)===null||_selectedFilters$date===void 0?void 0:_selectedFilters$date[0])||"";const toDateString=((_selectedFilters$date2=selectedFilters.dateRange)===null||_selectedFilters$date2===void 0?void 0:_selectedFilters$date2[1])||"";const fromDate=fromDateString?(0,dateHandler/* convertDate */.ic)(fromDateString,"yy-mm-dd"):undefined;const toDate=toDateString?(0,dateHandler/* convertDate */.ic)(toDateString,"yy-mm-dd"):undefined;const data=(0,objectSpread2/* default */.A)({status:selectedFilters.status?selectedFilters.status:undefined,name:selectedFilters.name?selectedFilters.name:undefined,propertyId:Number(selectedFilters.propertyId)>0?Number(selectedFilters.propertyId):undefined,email:selectedFilters.email?selectedFilters.email:undefined,phone:selectedFilters.phone?selectedFilters.phone:undefined,fromDate:fromDate,toDate:toDate,propertyCategory:selectedFilters.propertyCategory?selectedFilters.propertyCategory:undefined,organizationId:Number(selectedFilters.organizationId)>0?Number(selectedFilters.organizationId):undefined,propertyUrl:selectedFilters.propertyUrl?selectedFilters.propertyUrl:undefined,source:selectedFilters.source?selectedFilters.source:undefined,sortOrder:selectedFilters.sortOrder?selectedFilters.sortOrder:undefined,sortByField:selectedFilters.sortByField?selectedFilters.sortByField:undefined},query);// get the data from the api
leadsModule.getAllRecords(data).then(response=>{var _response$data,_response$data2;setModuleData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},moduleData),{},{loading:false,data:(_response$data=response.data)===null||_response$data===void 0?void 0:_response$data.data,meta:(_response$data2=response.data)===null||_response$data2===void 0?void 0:_response$data2.meta}));});},[selectedFilters,leadsModule]);const onPaginationChange=(page,pageSize)=>onUpdate({page,perPage:pageSize});(0,react.useEffect)(()=>{if(reset){onUpdate();}// after 2 seconds set reset clicked state to false
const timer=setTimeout(()=>{setReset(false);},2000);return()=>clearTimeout(timer);},[reset,selectedFilters,onUpdate]);const reloadTableData=(0,react.useCallback)(query=>{leadsModule.getAllRecords(query).then(res=>{setModuleData(res.data);}).catch(err=>{});},[leadsModule]);(0,react.useEffect)(()=>{setModuleData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},moduleData),{},{loading:true}));reloadTableData();},[]);const moreFiltersOptions=[{label:"Organization",value:"organizationId"},{label:"Phone",value:"phone"},{label:"Email",value:"email"},{label:"Property URL",value:"propertyUrl"}];const sortByField=[{label:"Name",value:"name"},{label:"Email",value:"email"},{label:"Date Added",value:"addedDate"}];const moreComponents={organizationId:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"radio",label:"Organization",name:"organizationId",withSearch:true,options:organizationData===null||organizationData===void 0?void 0:(_organizationData$dat=organizationData.data)===null||_organizationData$dat===void 0?void 0:_organizationData$dat.map(item=>({label:item.name,value:"".concat(item.id)})),onChange:onSelected,value:Number(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.organizationId)>0?String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.organizationId):"",onReset:()=>{setReset(true);onReset("organizationId",0);// reset the search term
setOrgSearchTerm("");},onUpdate:onUpdate// START: For search
,loading:organizationData===null||organizationData===void 0?void 0:organizationData.loading,searchTerm:orgSearchTerm,onSearch:event=>setOrgSearchTerm(event.currentTarget.value)// END: For search
}),phone:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"input",label:"Phone",name:"phone",value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.phone),onChange:onSelected,onReset:()=>onReset("phone",""),onUpdate:onUpdate}),email:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"email",label:"Email",name:"email",value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.email),onChange:onSelected,onReset:()=>onReset("email",""),onUpdate:onUpdate}),propertyUrl:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"input",label:"Property URL",name:"propertyUrl",value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.propertyUrl),onChange:onSelected,onReset:()=>onReset("propertyUrl",""),onUpdate:onUpdate})};const getExcelData=(0,react.useCallback)(()=>{var _moduleData$data;if((moduleData===null||moduleData===void 0?void 0:(_moduleData$data=moduleData.data)===null||_moduleData$data===void 0?void 0:_moduleData$data.length)>0){var _moduleData$data2;const data=moduleData===null||moduleData===void 0?void 0:(_moduleData$data2=moduleData.data)===null||_moduleData$data2===void 0?void 0:_moduleData$data2.map(item=>{// const { assignedTo, organization } = item;
// return {
// 	name: item.name,
// 	email: item.email,
// 	phone: `+${item.phoneCode}${item.phone}`,
// 	source: item.source,
// 	addedDate: moment(item?.addedDate).format("LL") || "N/A",
// 	status: LeadsStatus[item.status],
// 	propertyId: item.propertyId || "N/A",
// 	assignedTo: assignedTo?.firstName ? `${assignedTo?.firstName} ${assignedTo?.lastName}` : "N/A",
// 	organization: organization ? organization.name : "N/A",
// 	message: item.message || "N/A",
// 	reference: item.reference || "N/A"
// }
});setExcelData(data);}},[moduleData]);(0,react.useEffect)(()=>{getExcelData();},[getExcelData]);return/*#__PURE__*/(0,jsx_runtime.jsxs)(SiteSettings["default"],{permissionSlug:permissionSlug,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* PageHeader */.zY,{heading:"Leads",breadCrumbData:breadCrumbsData,showAdd:permissions.createLeads===true?true:false,buttonText:"Add Lead",onButtonClick:onAddNewLeadClick,positionChildren:"new-line",filters:readLeads?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:Organisms_Common_styles_module/* default */.A.filterWrapper,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"radio",label:"Status",name:"status",options:[],value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.status),onChange:onSelected,onReset:()=>onReset("status",""),onUpdate:onUpdate})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"input",label:"Name",name:"name",value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.name),onChange:onSelected,onReset:()=>onReset("name",""),onUpdate:onUpdate})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"input",label:"Property ID",name:"propertyId",value:Number(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.propertyId)>0?String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.propertyId):"",onChange:onSelected,onReset:()=>onReset("propertyId",0),onUpdate:onUpdate})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"radio",label:"Property Category",name:"propertyCategory",options:propertyCategories===null||propertyCategories===void 0?void 0:(_propertyCategories$d=propertyCategories.data)===null||_propertyCategories$d===void 0?void 0:_propertyCategories$d.map(item=>({label:item.localization[0].title,value:item.slug})),value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.propertyCategory),onChange:onSelected,onReset:()=>onReset("propertyCategory",""),onUpdate:onUpdate})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"radio",label:"Source",name:"source",options:Object.entries([]).map(_ref=>{let[key,value]=_ref;return{label:value,value:key};}),value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.source),onChange:onSelected,onReset:()=>onReset("source",""),onUpdate:onUpdate})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"datepicker",label:"Date",name:"dateRange",onChange:value=>{setSelectedFilters((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},selectedFilters),{},{dateRange:value}));},onReset:()=>onReset("dateRange",[]),onUpdate:onUpdate})}),/**  Find the selected filter and render the component based on the name of the filter */Object.keys(moreComponents).map(key=>{return(moreFilters===null||moreFilters===void 0?void 0:moreFilters.includes(key))&&moreComponents[key];}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(more/* default */.A,{options:moreFiltersOptions===null||moreFiltersOptions===void 0?void 0:moreFiltersOptions.map(option=>({label:option.label,value:option.value})),onChange:value=>setMoreFilters(value),value:moreFilters})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{marginLeft:"auto",marginRight:"0px"},children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"radio",label:"Sort By",name:"sortByField",options:sortByField,value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.sortByField),onChange:onSelected,onReset:()=>onReset("sortByField",""),onUpdate:onUpdate,withSort:true})})]}):null,excelExport:readLeads===true&&(moduleData===null||moduleData===void 0?void 0:(_moduleData$data3=moduleData.data)===null||_moduleData$data3===void 0?void 0:_moduleData$data3.length)>0&&/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* ExcelExport */.yh,{fileName:"Leads",headers:headers,data:excelData,icon:/*#__PURE__*/(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",fill:"none",viewBox:"0 0 24 24",className:"mr-1",children:/*#__PURE__*/(0,jsx_runtime.jsx)("path",{fill:"#42526E",d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2zm1.06 10.33c0 .41-.34.75-.75.75s-.75-.34-.75-.75V9.31l-7.72 7.72c-.15.15-.34.22-.53.22s-.38-.07-.53-.22a.754.754 0 010-1.06l7.72-7.72h-3.02c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h4.83c.41 0 .75.34.75.75v4.83z"})})}),children:readLeads===true&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:"flex"},children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{type:"ghost",href:"/siteSettings/leads/tracker",style:{marginLeft:"auto",marginRight:"0px",width:"fit-content",marginTop:10},children:"Leads Tracker"})})}),moduleData.loading?/*#__PURE__*/(0,jsx_runtime.jsx)(Skeletons/* default */.A,{items:5,fullWidth:true}):/*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:readLeads===true&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:Organisms_Common_styles_module/* default */.A.antdTableWrapper,children:/*#__PURE__*/(0,jsx_runtime.jsx)(TableComponent,{tableData:moduleData===null||moduleData===void 0?void 0:moduleData.data,tableLoading:moduleData===null||moduleData===void 0?void 0:moduleData.loading,reloadTableData:()=>{var _moduleData$meta,_moduleData$meta2;return onUpdate({perPage:(moduleData===null||moduleData===void 0?void 0:(_moduleData$meta=moduleData.meta)===null||_moduleData$meta===void 0?void 0:_moduleData$meta.perPage)||10,page:(moduleData===null||moduleData===void 0?void 0:(_moduleData$meta2=moduleData.meta)===null||_moduleData$meta2===void 0?void 0:_moduleData$meta2.page)||1});},onEditIconClick:onEditIconClick,onAddNoteClick:onAddNoteClick})}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Pagination */.dK,{total:moduleData===null||moduleData===void 0?void 0:(_moduleData$meta3=moduleData.meta)===null||_moduleData$meta3===void 0?void 0:_moduleData$meta3.total,current:moduleData===null||moduleData===void 0?void 0:(_moduleData$meta4=moduleData.meta)===null||_moduleData$meta4===void 0?void 0:_moduleData$meta4.page,defaultPageSize:moduleData!==null&&moduleData!==void 0&&(_moduleData$meta5=moduleData.meta)!==null&&_moduleData$meta5!==void 0&&_moduleData$meta5.perPage?moduleData===null||moduleData===void 0?void 0:(_moduleData$meta6=moduleData.meta)===null||_moduleData$meta6===void 0?void 0:_moduleData$meta6.perPage:10,pageSizeOptions:[10,20,50,100],onChange:onPaginationChange})]})}),readLeads===false&&/*#__PURE__*/(0,jsx_runtime.jsx)(ErrorCodes/* ErrorCode403 */.$t,{mainMessage:"You don't have permission to view this data"}),currentEditType.openModal&&/*#__PURE__*/(0,jsx_runtime.jsx)(LeadsModal,{record:currentEditType.recordId,type:currentEditType.editType,reloadTableData:()=>{var _moduleData$meta7,_moduleData$meta8;return onUpdate({perPage:(moduleData===null||moduleData===void 0?void 0:(_moduleData$meta7=moduleData.meta)===null||_moduleData$meta7===void 0?void 0:_moduleData$meta7.perPage)||10,page:(moduleData===null||moduleData===void 0?void 0:(_moduleData$meta8=moduleData.meta)===null||_moduleData$meta8===void 0?void 0:_moduleData$meta8.page)||1});},onCancel:onCancelClick,openModal:currentEditType.openModal,permissions:permissions})]});};/* harmony default export */ const SiteSettings_Leads = (LeadsSettings);

/***/ }),

/***/ 83584:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   j: () => (/* binding */ CountryModule)
/* harmony export */ });
/* harmony import */ var _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83365);
/* harmony import */ var _Common_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21073);
class CountryModule{constructor(){this.endPoint="country";this.allEndpoint="country/all";this.getAllRecords=()=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get(this.allEndpoint);};this.getAvailableRecords=()=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/available-country"));};this.getRecordById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/").concat(id));};this.deleteRecord=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete("".concat(this.endPoint,"/").concat(id));};this.createRecord=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post(this.endPoint+"/",data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};this.updateRecord=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/").concat(id),data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};}}

/***/ }),

/***/ 3465:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Q: () => (/* binding */ LeadsModule)
/* harmony export */ });
/* harmony import */ var _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83365);
/* harmony import */ var _modules_Common_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21073);
class LeadsModule{constructor(){this.endPoint="leads";/**Get all lead records
	 * @param query - query params
	 */this.getAllRecords=query=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get(this.endPoint,{params:query});};/**Get lead record by id
	 * @param id - lead id
	 */this.getRecordById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/").concat(id));};/** Get Note by id 
	 * @param id - note id
	*/this.getNoteById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/notes/").concat(id));};/**Create new lead record
	 * @param data - lead data
	 */this.createRecord=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post(this.endPoint+"/",data);};/**Update lead record
   * @param data - lead data
   * @param id - lead id
   */this.updateRecord=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/").concat(id),data);};this.addNote=(id,data)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post("".concat(this.endPoint,"/addNote/").concat(id),data);};/**Change lead status
	 * @param id - lead id
	 * @param status - lead status
	 */this.changeStatus=(id,status)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/changeStatus/").concat(id),{status});};/**Add note to lead
	 * @param id - lead id
	 * @param data - note data
	 * @property `data.note` - note text
	 * @property `data.isConcern` - is concern note
	 */ /** Get Note by id
	 * @param id - note id
	*/this.notelogs=(id,query)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/logs/").concat(id),{params:query});};/**Assign Lead
	* @param data.assignedToId - user id
	* @param id - lead id
	*/this.assignLead=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/assignLead/").concat(id),data);};/**Delete record by id
	 * @param id - lead id
	*/this.deleteRecord=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete("".concat(this.endPoint,"/remove/").concat(id));};/**Remove note from lead
	 * @param id - Note id
	 */this.removeNote=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete("".concat(this.endPoint,"/removeNote/").concat(id));};/** Upload lead file
	 * @property `file` - file to upload
	 * @property `leadId` - lead id
	 */this.uploadFile=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post("".concat(this.endPoint,"/uploadLeadsDocuments"),data,{headers:_modules_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};/** Remove lead file by id
	* @param id - file id
	*/this.removeFile=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete("".concat(this.endPoint,"/removeDocument/").concat(id));};/**Mark Concern As Resolved
	 * @param id - note id
	 */this.markConcernAsResolved=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/markConcernAsResolved/").concat(id));};/** Get Lead Statuses Total Counts */this.getCounts=()=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/getCounts"));};}}

/***/ }),

/***/ 42361:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   I: () => (/* binding */ OrganizationModule)
/* harmony export */ });
/* harmony import */ var _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83365);
/* harmony import */ var _modules_Common_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21073);
class OrganizationModule{constructor(){this.endPoint="organization";/**Get all organization records
     * @param query - query params
     */this.getAllRecords=query=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get(this.endPoint,{params:query});};/**Get all organization records
     * @param query - query params
     */this.findPublished=query=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get(this.endPoint+"/find-published",{params:query});};/**Get organization record by id
     * @param id - organization id
     */this.getRecordById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/").concat(id));};/**Delete organization record
    * @param id - organization id
    */this.deleteRecord=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete("".concat(this.endPoint,"/").concat(id));};/**Create new organization record
     * @param data - organization data
     */this.createRecord=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post(this.endPoint,data,{headers:_modules_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};/**Update organization record
    * @param data - organization data
    * @param id - organization id
    */this.updateRecord=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/").concat(id),data,{headers:_modules_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};this.getTenants=()=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("xero/getTenants");};}}

/***/ }),

/***/ 40743:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   G: () => (/* binding */ PropertiesModule),
/* harmony export */   h: () => (/* binding */ PropertyDealsModule)
/* harmony export */ });
/* harmony import */ var _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83365);
/* harmony import */ var _Common_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21073);
/** Properties Module */class PropertiesModule{constructor(){this.endPoint="property";this.getAllRecords=queryData=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get(this.endPoint,{params:queryData});};this.getRecordById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/findOneById/").concat(id));};/**
	 *  Get Record By Slug 
	 * @param slug - slug of the property
	 */this.getRecordBySlug=slug=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/").concat(slug));};this.deleteRecord=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete("".concat(this.endPoint,"/").concat(id));};this.createRecord=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post(this.endPoint+"/",data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};this.updateRecord=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/update-property/").concat(id),data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};// Publish Property
this.publishRecord=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/publish-property"),data);};// Unpublish Property by Id
this.unpublishRecord=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/unpublish-property/").concat(id),data);};/**Verify Title Deed */this.verifyTitleDeed=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/verifyTitleDeed/").concat(id),data);};/**
	 * Verify Property Documents
	 * @param data - data to be updated
	 * @param id - id of the document
	 */this.verifyPropertyDocuments=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/verify-document/").concat(id),data);};/** Get Property Logs */this.getLogs=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/logs/").concat(id));};/** Auto Renew
	 * @param id - id of the transaction
	 */this.autoRenew=(autoRenew,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/autoRenewListing/").concat(id),{autoRenew});};/**
	 * Update SEO
	 * @param data - data to be updated
	 * @param id - id of the property
	 */this.updateSEO=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post("".concat(this.endPoint,"/update-seo/").concat(id),data);};/**
	 * Update dynamic SEO
	 * @param data - data to be updated
	 * @param id - id of the property
	 */this.updateDynamicSEO=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post("".concat(this.endPoint,"/update-dynamic-seo/").concat(id),data);};/**
	 * Update Assured Property
	 * @param data - data to be updated
	 * @param id - id of the property
	 * */this.updateAssuredProperty=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/updateAssured/").concat(id),data);};/**
	 * Update Images Order
	 * @param data - data to be updated
	 * @param id - id of the property
	 * */this.updateImagesOrder=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/updateImagesOrder/").concat(id),data);};this.assignProperty=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/assignProperty/").concat(id),data);};/** Get All Property Documents
	 * @param queryData - query params
	*/this.getAllPropertyDocuments=queryData=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/property-documents"),{params:queryData});};/** Get Property Documents By Id 
	 * @param id - id of the property
	*/this.getPropertyDocumentsById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/get-property-documents/").concat(id));};/**
	 * Reject Property
	 * @param data.message - reason for rejecting the property
	 * @param id - id of the property
	 */this.rejectProperty=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post("".concat(this.endPoint,"/rejectProperty/").concat(id),data);};/** Manual Action */this.manualAction=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/manualAction/").concat(id),data);};}}/** Property Deals Module */class PropertyDealsModule{constructor(){this.endPoint="property-deals";/**
	 * Get All Records
	 * @param queryData - query params
	 */this.getAllRecords=queryData=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get(this.endPoint,{params:queryData});};/** Get Property deal using property id
	 * @param id - property id
	 */this.getRecordById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/findPropertyDeals/").concat(id));};/** Find Published Deals
	 * @param queryData - query params
	 * @param queryData.page - page number
	 * @param queryData.perPage - number of records per page
	 */this.getPublished=queryData=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/find-published"),{params:queryData});};/** Find Published Property Deals
	 * @param queryData - query params
	 * @param queryData.perPage - number of records per page
	 * @param queryData.page - page number
	 */this.getPublishedDeals=queryData=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/find-published-deals"),{params:queryData});};/** Create Property Deal
	 * @param data - data to create property deal
	 */this.createRecord=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post(this.endPoint+"/",data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};/** Update Property Deal
	 * @param data - data to be updated
	 * @param id - id of the property deal
	 */this.updateRecord=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/").concat(id),data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};/** Delete Property Deal
	 * @param id - id of the property deal
	 * */this.deleteRecord=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete("".concat(this.endPoint,"/").concat(id));};}}

/***/ }),

/***/ 90831:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Y: () => (/* binding */ PropertyCategoryModule)
/* harmony export */ });
/* harmony import */ var _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83365);
class PropertyCategoryModule{constructor(){this.endPoint="project-type";this.getAllRecords=()=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* .BASE_URL */ .C+this.endPoint);};this.getRecordById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* .BASE_URL */ .C+this.endPoint+"/"+id);};this.deleteRecord=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* .BASE_URL */ .C+this.endPoint+"/"+id);};this.createRecord=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* .BASE_URL */ .C+this.endPoint,data);};this.updateRecord=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* .BASE_URL */ .C+this.endPoint+"/"+id,data);};}}

/***/ })

}]);