"use strict";
(self["webpackChunkdat_projects"] = self["webpackChunkdat_projects"] || []).push([[2439],{

/***/ 12439:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ Blogs)
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__(89379);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(9950);
// EXTERNAL MODULE: ./src/Components/Templates/SiteSettings/index.tsx
var SiteSettings = __webpack_require__(16181);
// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 18 modules
var es_form = __webpack_require__(10678);
// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 1 modules
var message = __webpack_require__(92759);
// EXTERNAL MODULE: ./src/Components/Atoms/index.tsx + 12 modules
var Atoms = __webpack_require__(9394);
// EXTERNAL MODULE: ./src/Components/Organisms/SiteSettings/Common/styles.module.scss
var styles_module = __webpack_require__(41394);
// EXTERNAL MODULE: ./src/Components/Organisms/Skeletons/index.tsx
var Skeletons = __webpack_require__(70619);
// EXTERNAL MODULE: ./src/helpers/constants.ts
var constants = __webpack_require__(65944);
// EXTERNAL MODULE: ./src/helpers/common.ts
var common = __webpack_require__(88132);
// EXTERNAL MODULE: ./src/Components/Atoms/ServerErrorHandler/index.tsx
var ServerErrorHandler = __webpack_require__(13321);
// EXTERNAL MODULE: ./src/helpers/error-handler.ts
var error_handler = __webpack_require__(38266);
// EXTERNAL MODULE: ./src/services/axiosInstance.ts
var axiosInstance = __webpack_require__(83365);
// EXTERNAL MODULE: ./src/Modules/Common/config.ts
var config = __webpack_require__(21073);
;// ./src/Modules/Blogs/index.ts
class BlogsModule{constructor(){this.endPoint="blogs";this.createRecord=data=>{return axiosInstance/* default */.A.post(this.endPoint+"/",data,{headers:config/* FormDataHeader */.Y});};this.getAllRecords=queryData=>{return axiosInstance/* default */.A.get(this.endPoint,{params:queryData});};this.getRecordById=id=>{return axiosInstance/* default */.A.get("".concat(this.endPoint,"/").concat(id,"?all=true"));};this.getAllPublishedRecords=()=>{return axiosInstance/* default */.A.get("".concat(this.endPoint,"/find-published"));};this.getRecordByOneSlug=slug=>{return axiosInstance/* default */.A.get("".concat(this.endPoint,"/findOneBySlug/").concat(slug));};this.updateRecord=(data,id)=>{return axiosInstance/* default */.A.patch("".concat(this.endPoint,"/").concat(id),data,{headers:config/* FormDataHeader */.Y});};this.deleteRecord=id=>{return axiosInstance/* default */.A.delete("".concat(this.endPoint,"/").concat(id));};this.updateRecordByStatus=(id,status)=>{return axiosInstance/* default */.A.post("".concat(this.endPoint,"/changeStatus/").concat(id),{status});};this.verifyAndPublish=(data,id)=>{return axiosInstance/* default */.A.post("".concat(this.endPoint,"/verifyAndPublish/").concat(id),data,{headers:config/* FormDataHeader */.Y});};this.updateSEOById=(id,data)=>{return axiosInstance/* default */.A.post("".concat(this.endPoint,"/update-seo/").concat(id),data);};// Blog Images
this.getAllImages=id=>{return axiosInstance/* default */.A.get("".concat(this.endPoint,"/getBlogImages/").concat(id));};// Upload Images
this.uploadImages=data=>{return axiosInstance/* default */.A.post("".concat(this.endPoint,"/uploadImages"),data,{headers:config/* FormDataHeader */.Y});};// Remove Images
this.removeImages=id=>{return axiosInstance/* default */.A.delete("".concat(this.endPoint,"/removeImages/").concat(id));};}}
// EXTERNAL MODULE: ./src/helpers/commonEnums.ts
var commonEnums = __webpack_require__(2360);
// EXTERNAL MODULE: ./src/Modules/Country/index.ts
var Country = __webpack_require__(83584);
// EXTERNAL MODULE: ./src/Modules/BlogsCategory/index.ts
var BlogsCategory = __webpack_require__(55163);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(44414);
;// ./src/Components/Organisms/SiteSettings/Blogs/modal.tsx
const SiteBlogModal=props=>{var _recordData$data,_recordData$data2,_recordData$data3,_recordData$data4,_recordData$data5,_recordData$data6,_recordData$data7;const{openModal,onCancel,type,record,reloadTableData,permissions:{updateBlogs,createBlogs,updateBlogsSEO}}=props;const[form]=es_form/* default */.A.useForm();const module=(0,react.useMemo)(()=>new BlogsModule(),[]);const countryModule=(0,react.useMemo)(()=>new Country/* CountryModule */.j(),[]);const blogsCategoryModule=(0,react.useMemo)(()=>new BlogsCategory/* BlogsCategoryModule */.K(),[]);const[recordData,setRecordData]=(0,react.useState)();const[countries,setCountries]=(0,react.useState)([]);const[blogsCategoryData,setBlogsCategoryData]=(0,react.useState)([]);const handleErrors=err=>{const error=(0,error_handler/* errorHandler */.r)(err);if(typeof error.message=="string"){setRecordData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},recordData),{},{error:error.message}));}else{let errData=(0,ServerErrorHandler/* HandleServerErrors */.p)(error.message,[]);form.setFields(errData);setRecordData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},recordData),{},{error:""}));}};const handleAlertClose=()=>{setRecordData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},recordData),{},{error:""}));};const getDataBySlug=(0,react.useCallback)(()=>{module.getRecordById(record).then(res=>{if(res.data&&res.data.data){form.setFieldsValue((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({translations:res.data.data.localization},res.data.data),{},{isPublished:res.data.data.isPublished}));setRecordData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},res.data),{},{loading:false}));}}).catch(err=>{handleErrors(err);});},[form,record,module]);const getCountryList=(0,react.useCallback)(()=>{if(type!=="seo"){countryModule.getAllRecords().then(res=>{if(res.data&&res.data.data){setCountries(res.data.data);}});}},[countryModule,type]);const getBlogsCategorData=(0,react.useCallback)(()=>{if(type!=="seo"){blogsCategoryModule.getAllRecords().then(res=>{if(res.data&&res.data.data){setBlogsCategoryData(res.data.data);}});}},[blogsCategoryModule,type]);(0,react.useEffect)(()=>{if(type==="edit"){setRecordData({loading:true});// fetch data by slug or id
getDataBySlug();// fetch the countries
getCountryList();// fetch the blogs category data
getBlogsCategorData();}else if(type==="seo"){// fetch data by slug or id
getDataBySlug();}else{// fetch the countries
getCountryList();// fetch the blogs category data
getBlogsCategorData();form.resetFields();}},[openModal,type,form,getDataBySlug,getCountryList,getBlogsCategorData]);const handleSlugChange=_ref=>{let{target}=_ref;let slug=(0,common/* slugifyString */.Dv)(target.value);form.setFieldsValue({slug:slug});};const onFinish=formValues=>{setRecordData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},recordData),{},{buttonLoading:true}));const formData=new FormData();if(type!=="seo"){const excludeFields=["image","translations"];Object.entries(formValues).forEach(ele=>{if(!excludeFields.includes(ele[0])){formData.append(ele[0],ele[1]);}});if(formValues["image"]&&typeof formValues["image"]!=="string"&&formValues["image"]["fileList"].length>0){formData.append("image",formValues["image"]["fileList"][0]["originFileObj"]);}if(formValues.translations){formValues.translations.forEach((item,index)=>{formData.append("translations[".concat(index+1,"][language]"),item.language);formData.append("translations[".concat(index+1,"][title]"),item.title);formData.append("translations[".concat(index+1,"][highlight]"),item.highlight);formData.append("translations[".concat(index+1,"][description]"),item.description);});}}switch(type){case"new":{if(createBlogs===true){module.createRecord(formData).then(res=>{reloadTableData();onCancel();setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{buttonLoading:false}));}).catch(err=>{handleErrors(err);setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{buttonLoading:false}));});}else{setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{buttonLoading:false}));message/* default */.Ay.error("You don't have permission to create a new record");}break;}case"edit":{if(updateBlogs===true){module.updateRecord(formData,recordData===null||recordData===void 0?void 0:recordData.data.id).then(res=>{reloadTableData();onCancel();setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));}).catch(err=>{handleErrors(err);setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));});}else{setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{buttonLoading:false}));message/* default */.Ay.error("You don't have permission to update this record");}break;}case"seo":{if(updateBlogsSEO===true){module.updateSEOById(record,{seoTitle:formValues===null||formValues===void 0?void 0:formValues.seoTitle,seoDescription:formValues===null||formValues===void 0?void 0:formValues.seoDescription}).then(res=>{reloadTableData();onCancel();setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));}).catch(err=>{handleErrors(err);setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));});}else{setRecordData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{buttonLoading:false}));message/* default */.Ay.error("You don't have permission to update this record");}break;}}};return/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomModal */.jo,{visible:openModal,size:type==="seo"?"700px":"900px",closable:true,onCancel:onCancel,titleText:type==="new"?"Add New Blog":type==="edit"?"Edit Blog":"SEO",showFooter:false,children:recordData!==null&&recordData!==void 0&&recordData.loading?/*#__PURE__*/(0,jsx_runtime.jsx)(Skeletons/* default */.A,{items:10}):/*#__PURE__*/(0,jsx_runtime.jsxs)(es_form/* default */.A,{className:styles_module/* default */.A.form,onFinish:onFinish,form:form,children:[(recordData===null||recordData===void 0?void 0:recordData.error)&&/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomErrorAlert */.WZ,{description:recordData===null||recordData===void 0?void 0:recordData.error,isClosable:true,onClose:handleAlertClose}),(type==="new"||type==="edit")&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"countryId",rules:[{required:true,message:"Please Select a country!"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomSelect */.Ae,{label:"Country",placeholder:"Please select country",options:countries===null||countries===void 0?void 0:countries.map(country=>({label:country.name,value:country.id})),asterisk:true})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"category",rules:[{required:true,message:"Please Select a category!"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomSelect */.Ae,{label:"Blog Category",placeholder:"Please select category",options:Object.entries(commonEnums/* BlogsCategory */.ap).map(_ref2=>{let[key,value]=_ref2;return{label:key,value:Number(value)};}),asterisk:true})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"slug",rules:[{required:true,message:"Please add a slug"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{onChange:handleSlugChange,size:"w100",label:"Slug",asterisk:true,type:"text"})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"blogCategoryId",rules:[{required:true,message:"Please select a blog category"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomSelect */.Ae,{label:"Blogs Category",placeholder:"Please select a blog category",options:blogsCategoryData===null||blogsCategoryData===void 0?void 0:blogsCategoryData.map(blogCat=>({label:blogCat.localization[0].title,value:blogCat.id})),asterisk:true})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Localization */.G4,{title:"Blog Details",formName:"translations",description:true,highlight:true,form:form,defaultValue:recordData===null||recordData===void 0?void 0:(_recordData$data=recordData.data)===null||_recordData$data===void 0?void 0:_recordData$data.localization}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"imageAlt",rules:[{required:false}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{size:"w100",label:"Image Alt Text",type:"text"})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"status",children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomSelect */.Ae,{label:"Status",options:Object.entries(commonEnums/* BlogsStatus */.w7).map(_ref3=>{let[key,value]=_ref3;return{label:key,value:Number(value)};})})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* ImageUploader */.GA,{name:"image",defaultFileList:type==="edit"&&recordData&&((_recordData$data2=recordData.data)===null||_recordData$data2===void 0?void 0:_recordData$data2.image)&&[{uid:(_recordData$data3=recordData.data)===null||_recordData$data3===void 0?void 0:_recordData$data3.id,name:(_recordData$data4=recordData.data)===null||_recordData$data4===void 0?void 0:_recordData$data4.image,status:"done",url:constants/* RESOURCE_BASE_URL */.to+((_recordData$data5=recordData.data)===null||_recordData$data5===void 0?void 0:_recordData$data5.image)}]})]})]}),type==="seo"&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"seoTitle",rules:[{required:true,message:"Please add SEO Title"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{size:"w100",label:"Title",type:"text",asterisk:true})})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"seoDescription",rules:[{required:true,message:"Please add SEO Description"}],children:recordData!==null&&recordData!==void 0&&(_recordData$data6=recordData.data)!==null&&_recordData$data6!==void 0&&_recordData$data6.seoDescription?/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{size:"w100",label:"Description",type:"textArea",asterisk:true,defaultValue:recordData===null||recordData===void 0?void 0:(_recordData$data7=recordData.data)===null||_recordData$data7===void 0?void 0:_recordData$data7.seoDescription}):recordData!==null&&recordData!==void 0&&recordData.data?/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{size:"w100",label:"Description",type:"textArea",asterisk:true}):/*#__PURE__*/(0,jsx_runtime.jsx)(Skeletons/* default */.A,{items:1,fullWidth:true})})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:styles_module/* default */.A.footer,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomButton */.Sv,{size:"normal",fontSize:"sm",onClick:onCancel,type:"plain",children:"Cancel"}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomButton */.Sv,{type:"primary",size:"normal",fontSize:"sm",htmlType:"submit",loading:recordData===null||recordData===void 0?void 0:recordData.buttonLoading,children:"Submit"})]})]})});};
// EXTERNAL MODULE: ./node_modules/antd/es/typography/index.js + 15 modules
var typography = __webpack_require__(30377);
// EXTERNAL MODULE: ./node_modules/antd/es/popconfirm/index.js + 1 modules
var popconfirm = __webpack_require__(56231);
// EXTERNAL MODULE: ./node_modules/antd/es/card/index.js + 3 modules
var card = __webpack_require__(2557);
// EXTERNAL MODULE: ./node_modules/antd/es/dropdown/index.js
var dropdown = __webpack_require__(57811);
// EXTERNAL MODULE: ./node_modules/antd/es/space/index.js + 1 modules
var space = __webpack_require__(80737);
// EXTERNAL MODULE: ./node_modules/antd/es/image/index.js + 13 modules
var es_image = __webpack_require__(9206);
// EXTERNAL MODULE: ./node_modules/antd/es/table/index.js + 96 modules
var table = __webpack_require__(41821);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js
var DeleteOutlined = __webpack_require__(78433);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/DownOutlined.js
var DownOutlined = __webpack_require__(73022);
// EXTERNAL MODULE: ./src/Components/Atoms/Headings/index.tsx
var Headings = __webpack_require__(35751);
;// ./src/Components/Organisms/SiteSettings/Blogs/styles.module.scss
// extracted by mini-css-extract-plugin
/* harmony default export */ const Blogs_styles_module = ({"dropdown":"styles_dropdown__FEj0V","overlay":"styles_overlay__QI8s+","overlay_item":"styles_overlay_item__zSsQk","overlay_popConfirm":"styles_overlay_popConfirm__DTjtu","disabledButton":"styles_disabledButton__RDKgj"});
// EXTERNAL MODULE: ./src/helpers/dateHandler.ts
var dateHandler = __webpack_require__(98933);
// EXTERNAL MODULE: ./src/Components/Icons/index.tsx + 58 modules
var Icons = __webpack_require__(63668);
// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 21 modules
var es = __webpack_require__(98341);
// EXTERNAL MODULE: ./src/services/tokenService.ts
var tokenService = __webpack_require__(92966);
;// ./src/Components/Organisms/SiteSettings/Blogs/table-columns.tsx
const{Paragraph}=typography/* default */.A;const ActionComponent=props=>{const{record,onEditIconClick,reloadTableData,onSeoIconClick,onImageClick,permissions:{deleteBlogs}}=props;const[actionState,setActionState]=(0,react.useState)({confirmLoading:false,openPopConfirm:false});const module=(0,react.useMemo)(()=>new BlogsModule(),[]);const handleDelete=()=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{confirmLoading:true}));if(deleteBlogs===false){message/* default */.Ay.error("You don't have permission to delete this record, please contact your admin.");setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false}));return;}module.deleteRecord(record.id).then(res=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false,confirmLoading:false}));reloadTableData();}).catch(err=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{confirmLoading:false}));});};const showPopconfirm=()=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:true}));};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:styles_module/* default */.A.actions,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{onClick:()=>onImageClick(record),children:/*#__PURE__*/(0,jsx_runtime.jsx)(Icons/* ImageIcon */.xf,{color:"#fff"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{onClick:()=>onSeoIconClick(record),children:/*#__PURE__*/(0,jsx_runtime.jsx)(Icons/* GIcon */.zW,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{onClick:()=>onEditIconClick(record),children:/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:"/images/editicon.svg",alt:""})}),/*#__PURE__*/(0,jsx_runtime.jsx)(popconfirm/* default */.A,{open:actionState.openPopConfirm,placement:"top",title:"Are you sure?",onConfirm:handleDelete,onCancel:()=>setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false})),okButtonProps:{loading:actionState.confirmLoading},okText:"Yes",cancelText:"No",onOpenChange:visible=>{if(!visible){setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false}));}},children:/*#__PURE__*/(0,jsx_runtime.jsx)(DeleteOutlined/* default */.A,{className:styles_module/* default */.A.bg__red,onClick:showPopconfirm})})]});};/** Status Dropdown */const StatusDropdown=props=>{const{status,recordId,reloadTableData,changeBlogsStatus,verifyAndPublishBlogs}=props;const[messageApi,contextHolder]=message/* default */.Ay.useMessage();const module=(0,react.useMemo)(()=>new BlogsModule(),[]);const openMessage=data=>{messageApi.open({key:data.key,type:data.type,content:data.content,duration:data.type==="loading"?0:2});};// controls the dropdown visibility
const[visible,setVisible]=(0,react.useState)(false);// handle dropdown menu visibility change event
const onVisibleChange=flag=>{setVisible(flag);};const onStatusChange=_status=>{if(recordId&&changeBlogsStatus===true){openMessage({key:"update",type:"loading",content:"Updating..."});module.updateRecordByStatus(Number(recordId),_status).then(res=>{var _res$data;if(res!==null&&res!==void 0&&(_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.data){var _res$data2;openMessage({key:"update",type:"success",content:res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.message});setVisible(!visible);reloadTableData();}}).catch(err=>{var _err$response,_err$response$data;openMessage({key:"update",type:"error",content:err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message});});}else{openMessage({key:"update",type:"error",content:"You don't have permission to change status"});}};const onPublishChange=_status=>{if(recordId&&verifyAndPublishBlogs===true){openMessage({key:"publish",type:"loading",content:"Publishing..."});module.verifyAndPublish({status:_status},Number(recordId)).then(res=>{var _res$data3;if(res!==null&&res!==void 0&&(_res$data3=res.data)!==null&&_res$data3!==void 0&&_res$data3.data){var _res$data4;openMessage({key:"publish",type:"success",content:res===null||res===void 0?void 0:(_res$data4=res.data)===null||_res$data4===void 0?void 0:_res$data4.message});setVisible(!visible);reloadTableData();}}).catch(err=>{var _err$response2,_err$response2$data;openMessage({key:"publish",type:"error",content:err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message});});}else{openMessage({key:"publish",type:"error",content:"You don't have permission to publish"});}};const overlay=/*#__PURE__*/(0,jsx_runtime.jsxs)(card/* default */.A,{className:"".concat(Blogs_styles_module.overlay," pa-2"),children:[contextHolder,Object.entries(commonEnums/* BlogsStatus */.w7).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:Blogs_styles_module.overlay_item,onClick:()=>{if(changeBlogsStatus){const selectedStatus=Number(value);if(status!==selectedStatus){if(value===commonEnums/* BlogsStatus */.w7["Verified & Published"]){onPublishChange(selectedStatus);}else{onStatusChange(selectedStatus);}}}},children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:status===Number(value)?Blogs_styles_module.disabledButton:"",children:key})},"blogs-status-".concat(key));})]});return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(dropdown/* default */.A,{dropdownRender:()=>overlay,trigger:changeBlogsStatus===true?["click"]:[],open:changeBlogsStatus===true?visible:false,onOpenChange:onVisibleChange,className:Blogs_styles_module.dropdown,children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)(space/* default */.A,{children:[Object.entries(commonEnums/* BlogsStatus */.w7).map(_ref2=>{let[key,value]=_ref2;return value===String(status)&&key;}),changeBlogsStatus===true&&/*#__PURE__*/(0,jsx_runtime.jsx)(DownOutlined/* default */.A,{})]})})})});};function TableComponent(props){const{tableData,tableLoading,onEditIconClick,reloadTableData,onSeoIconClick,onImageClick}=props;const{userPermissions}=(0,es/* useSelector */.d4)(state=>state.usersReducer);const permissions=userPermissions;const{//createBlogs, updateBlogs, deleteBlogs, readBlogs,
changeBlogsStatus,verifyAndPublishBlogs//updateBlogsSEO,
}=permissions;// access token
const access_token=tokenService/* default */.A.getLocalAccessToken();const columns=[{title:"S.No",dataIndex:"index",key:"index",render:(text,record,index)=>index+1,width:"5%"},{title:"Title",dataIndex:"description",key:"description",render:(text,record)=>{var _record$blogsCategory;return/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-main",size:"sm",weight:"bold",children:record.localization[0].title}),record.status===4?/*#__PURE__*/(0,jsx_runtime.jsx)("a",{href:"".concat(constants/* FRONT_END_URL */.Yb,"/en/blogs/").concat((_record$blogsCategory=record.blogsCategory)===null||_record$blogsCategory===void 0?void 0:_record$blogsCategory.slug,"/").concat(record.slug),target:'_blank',rel:"noreferrer",children:/*#__PURE__*/(0,jsx_runtime.jsx)(Paragraph,{ellipsis:{rows:1,expandable:false},title:record.localization[0].title,className:"font-size-xs color-light-800 mt-1",children:record.slug})}):/*#__PURE__*/(0,jsx_runtime.jsxs)("a",{href:"".concat(constants/* FRONT_END_URL */.Yb,"/en/blogs/preview/").concat(record.id,"?access_token=").concat(access_token),target:'_blank',rel:"noreferrer",title:"Preview ".concat(record.localization[0].title),className:"d-flex font-size-xs color-light-800 mt-1",children:["Preview Blog ",/*#__PURE__*/(0,jsx_runtime.jsx)(Icons/* ViewIcon */.tC,{className:"my-auto ml-1"})]})]});}},{title:"Category",dataIndex:"blogsCategory",key:"blogsCategory",render:(blogsCategory,record)=>{var _record$blogsCategory2,_record$blogsCategory3;return/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-main",size:"sm",weight:"bold",children:record===null||record===void 0?void 0:(_record$blogsCategory2=record.blogsCategory)===null||_record$blogsCategory2===void 0?void 0:(_record$blogsCategory3=_record$blogsCategory2.localization[0])===null||_record$blogsCategory3===void 0?void 0:_record$blogsCategory3.title});}},{title:"Country",dataIndex:"country",key:"country",render:(country,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-sub",size:"sm",children:record.country.name})},{title:"Image",dataIndex:"image",key:"image",render:(image,record)=>image?/*#__PURE__*/(0,jsx_runtime.jsx)(es_image/* default */.A,{width:50,height:50,src:"".concat(constants/* RESOURCE_BASE_URL */.to).concat(image),alt:record.imageAlt,preview:false,rootClassName:"object-fit-contain"}):/*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})},{title:"Date",dataIndex:"date",key:"date",render:(date,record)=>/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-sub",size:"sm",children:"Added: ".concat((0,dateHandler/* convertDate */.ic)(record.addedDate,'MM dd yy'))}),/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-sub",size:"sm",children:"Modified: ".concat(record.modifiedDate?(0,dateHandler/* convertDate */.ic)(record===null||record===void 0?void 0:record.modifiedDate,'MM dd yy'):'Not Modified')})]})},{title:"Status",dataIndex:"status",key:"status",render:(status,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(StatusDropdown,{recordId:record.id,status:status,reloadTableData:reloadTableData,verifyAndPublishBlogs:verifyAndPublishBlogs,changeBlogsStatus:changeBlogsStatus})},{title:"Actions",dataIndex:"actions",key:"actions",render:(text,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(ActionComponent,{record:record,onEditIconClick:onEditIconClick,reloadTableData:reloadTableData,onSeoIconClick:onSeoIconClick,onImageClick:onImageClick,permissions:permissions})}];return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:styles_module/* default */.A.antdTableWrapper,children:/*#__PURE__*/(0,jsx_runtime.jsx)(table/* default */.A,{sticky:true,dataSource:tableData,columns:columns,pagination:false,scroll:{x:991},loading:tableLoading,rowKey:record=>"site-blogs-".concat(record.id)})});}
;// ./src/Modules/Blogs/permissions.ts
let BlogsPermissionsEnum=/*#__PURE__*/function(BlogsPermissionsEnum){BlogsPermissionsEnum["CREATE"]="createBlogs";BlogsPermissionsEnum["UPDATE"]="updateBlogs";BlogsPermissionsEnum["DELETE"]="deleteBlogs";BlogsPermissionsEnum["READ"]="readBlogs";BlogsPermissionsEnum["CHANGE_STATUS"]="changeBlogsStatus";BlogsPermissionsEnum["VERIFY_AND_PUBLISH"]="verifyAndPublishBlogs";BlogsPermissionsEnum["UPDATE_SEO"]="updateBlogsSEO";return BlogsPermissionsEnum;}({});
// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js
var es_button = __webpack_require__(48538);
// EXTERNAL MODULE: ./node_modules/antd/es/upload/index.js + 19 modules
var upload = __webpack_require__(28013);
;// ./src/Components/Organisms/SiteSettings/Blogs/MultipleImages/styles.module.scss
// extracted by mini-css-extract-plugin
/* harmony default export */ const MultipleImages_styles_module = ({"form":"styles_form__Hv87f","formItems":"styles_formItems__f0sE-","footer":"styles_footer__d9uDS","dragger":"styles_dragger__tW4V5","numberOfUploads":"styles_numberOfUploads__wmuuA","uploadedImages":"styles_uploadedImages__Kv7-b","imageWrap":"styles_imageWrap__QkFKb"});
;// ./src/Components/Organisms/SiteSettings/Blogs/MultipleImages/index.tsx
const{Paragraph: MultipleImages_Paragraph}=typography/* default */.A;const MultipleImages=_ref=>{let{openModal,onCancel,recordId}=_ref;const[form]=es_form/* default */.A.useForm();const[images,setImages]=(0,react.useState)([]);const module=(0,react.useMemo)(()=>new BlogsModule(),[]);const onFinish=()=>onCancel();const onImageDlt=async(id,idx)=>{try{module.removeImages(id).then(res=>{setImages(prv=>[...prv.filter((item,index)=>index!==idx)]);message/* default */.Ay.success('Image Deleted Successfully');}).catch(err=>{var _err$response,_err$response$data;message/* default */.Ay.error((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'Error Deleting Images');});}catch(err){console.error('Error Deleting Images',err);}};const getImageCard=(item,index)=>{return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:MultipleImages_styles_module.imageWrap,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:"".concat(constants/* RESOURCE_BASE_URL */.to).concat(item.path),alt:item.path}),/*#__PURE__*/(0,jsx_runtime.jsx)(MultipleImages_Paragraph,{copyable:{text:"".concat(constants/* RESOURCE_BASE_URL */.to).concat(item.path)},ellipsis:{rows:1,expandable:true,symbol:'more'},children:item.file}),/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{onClick:()=>onImageDlt(item.id,index),children:"Remove"})})]},"edit-images-card-".concat(item.id));};const uploadImage=async options=>{const{onSuccess,onError,file}=options;const fmData=new FormData();fmData.append("file",file);fmData.append("blogId",String(recordId));try{module.uploadImages(fmData).then(res=>{setImages(prv=>[...prv,res.data.data[0]]);onSuccess("ok");}).catch(err=>{onError({err});});}catch(err){onError({err});}};// useEffect(() => {
//     form.setFields([{
//         name: "images",
//         errors: images.length < 1 ? ["Please Upload at least 1 Image!"] : [],
//     }]);
// }, [form, images]);
const getImagesOnServer=(0,react.useCallback)(async()=>{try{module.getAllImages(recordId).then(res=>{setImages(res.data.data);}).catch(err=>{var _err$response2,_err$response2$data;message/* default */.Ay.error((err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||'Error Fetching Images');});}catch(err){console.error('Error Fetching Images',err);}},[recordId,module]);(0,react.useEffect)(()=>{if(openModal){getImagesOnServer();}},[openModal]);return/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomModal */.jo,{visible:openModal,closable:true,onCancel:onCancel,titleText:"Upload Images",showFooter:false,children:/*#__PURE__*/(0,jsx_runtime.jsxs)(es_form/* default */.A,{onFinish:onFinish,form:form,className:MultipleImages_styles_module.form,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:MultipleImages_styles_module.formItems,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"images",children:/*#__PURE__*/(0,jsx_runtime.jsxs)(upload/* default */.A.Dragger,{accept:".png,.jpg,.jpeg",className:MultipleImages_styles_module.dragger,multiple:true,name:"file",maxCount:20,customRequest:uploadImage,showUploadList:false,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"ant-upload-hint",children:"Drag image here or click to upload"}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:MultipleImages_styles_module.numberOfUploads,children:"".concat(images.length,"/20")})]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:MultipleImages_styles_module.uploadedImages,children:images===null||images===void 0?void 0:images.map((item,index)=>getImageCard(item,index))})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:MultipleImages_styles_module.footer,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomButton */.Sv,{size:"normal",fontSize:"sm",onClick:onCancel,type:"plain",children:"Cancel"}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomButton */.Sv,{type:"primary",size:"normal",htmlType:"submit",children:"Done"})]})]})});};/* harmony default export */ const Blogs_MultipleImages = (MultipleImages);
// EXTERNAL MODULE: ./src/helpers/useDebounce.ts
var useDebounce = __webpack_require__(28173);
// EXTERNAL MODULE: ./src/Components/Atoms/ErrorCodes/index.tsx + 1 modules
var ErrorCodes = __webpack_require__(36250);
;// ./src/Components/Organisms/SiteSettings/Blogs/index.tsx
const breadCrumbsData=[{text:"Home",isLink:true,path:"/"},{isLink:true,text:"Site Settings",path:"/siteSettings"},{isLink:false,text:"Blogs"}];function SiteBlogsSettings(){var _moduleData$meta,_moduleData$meta2,_moduleData$meta3,_moduleData$meta4;// available permissions for this module
const permissionSlug=(0,common/* getPermissionSlugs */.AH)(BlogsPermissionsEnum);const{userPermissions}=(0,es/* useSelector */.d4)(state=>state.usersReducer);const permissions=userPermissions;const{readBlogs,createBlogs,updateBlogs,updateBlogsSEO}=permissions;const[currentEditType,setcurrentEditType]=(0,react.useState)({editType:"new",recordId:0,openModal:false});const[imagesModal,setImagesModal]=(0,react.useState)({openModal:false,recordId:0});const module=(0,react.useMemo)(()=>new BlogsModule(),[]);const blogsCategory=(0,react.useMemo)(()=>new BlogsCategory/* BlogsCategoryModule */.K(),[]);const[searchTerm,setSearchTerm]=(0,react.useState)("");const debouncedSearchTerm=(0,useDebounce/* useDebounce */.d)(searchTerm,500);const[moduleData,setModuleData]=(0,react.useState)({isLoading:false,error:{},data:[]});const[categoryData,setCategoryData]=(0,react.useState)([]);const[selectedFilters,setSelectedFilters]=(0,react.useState)({status:0,category:0,type:0});const[reset,setReset]=(0,react.useState)(false);const onSearch=event=>{const value=event.currentTarget.value;setSearchTerm(value);};// event handle  to open and close modal
const handleClick=()=>{if(createBlogs===false){message/* default */.Ay.error("You don't have permission to create new record");return;}setcurrentEditType((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentEditType),{},{openModal:!currentEditType.openModal,editType:"new"}));};const onEditIconClick=record=>{if(updateBlogs===false){message/* default */.Ay.error("You don't have permission to update record");return;}setcurrentEditType((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentEditType),{},{editType:"edit",recordId:record.id,openModal:true}));};const onSeoIconClick=record=>{if(updateBlogsSEO===false){message/* default */.Ay.error("You don't have permission to update the SEO record");return;}setcurrentEditType((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentEditType),{},{editType:"seo",recordId:record.id,openModal:true}));};const onImageClick=record=>{if(updateBlogs===false){message/* default */.Ay.error("You don't have permission to update record");return;}setImagesModal((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},imagesModal),{},{openModal:true,recordId:record.id}));};const reloadTableData=(0,react.useCallback)(query=>{setModuleData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},moduleData),{},{loading:true}));module.getAllRecords(query).then(res=>{setModuleData(res.data);}).catch(err=>{});},[moduleData,module]);const getBlogsCategory=(0,react.useCallback)(()=>{blogsCategory.getAllRecords().then(res=>{setCategoryData(res.data.data);}).catch(err=>{});},[blogsCategory]);const onUpdate=(0,react.useCallback)(()=>{const data={category:(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.category)||undefined,status:(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.status)||undefined,title:debouncedSearchTerm||undefined,type:(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.type)||undefined};// get the data from the api
reloadTableData(data);},[selectedFilters,module,debouncedSearchTerm]);(0,react.useEffect)(()=>{if(debouncedSearchTerm){reloadTableData({title:debouncedSearchTerm});}else{reloadTableData();}},[debouncedSearchTerm]);(0,react.useEffect)(()=>{getBlogsCategory();},[]);const onSelected=event=>{const{name,value}=event===null||event===void 0?void 0:event.target;// set the selected value in the state 
setSelectedFilters((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},selectedFilters),{},{[name]:value}));};const onPaginationChange=(0,react.useCallback)((page,pageSize)=>{//setModuleData({ ...moduleData, loading: true });
const params={page,perPage:pageSize,title:debouncedSearchTerm||undefined,category:(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.category)||undefined,status:(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.status)||undefined,type:(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.type)||undefined};reloadTableData(params);// module.getAllRecords(params).then((res) => {
// 	setModuleData({ ...res.data, loading: false });
// }).catch((err) => {
// 	setModuleData({ ...moduleData, loading: false });
// });
},[moduleData,module,selectedFilters,debouncedSearchTerm,reloadTableData]);(0,react.useEffect)(()=>{if(reset){onUpdate();}// after 2 seconds set reset clicked state to false
const timer=setTimeout(()=>{setReset(false);},2000);return()=>clearTimeout(timer);},[reset,selectedFilters,onUpdate]);return/*#__PURE__*/(0,jsx_runtime.jsxs)(SiteSettings["default"],{permissionSlug:permissionSlug,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* PageHeader */.zY,{heading:"Blogs",buttonText:"Add New Blog",onButtonClick:handleClick,breadCrumbData:breadCrumbsData,showAdd:createBlogs===true?true:false,filters:readBlogs===true?/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{placeHolder:"Search...",icon:/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:"/images/searchIcon.svg",alt:"Search Icon"}),size:"w100",className:"py-1",value:searchTerm,onChange:onSearch})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"radio",label:"Status",name:"status",options:Object.entries(commonEnums/* BlogsStatus */.w7).map(_ref=>{let[key,value]=_ref;return{label:key,value:value};}),onChange:onSelected,value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.status),onReset:()=>{setReset(true);setSelectedFilters((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},selectedFilters),{},{status:0}));},onUpdate:onUpdate})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"radio",label:"Category",name:"category",options:categoryData.map(item=>({label:item.localization[0].title,value:"".concat(item.id)})),onChange:onSelected,value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.category),onReset:()=>{setReset(true);setSelectedFilters((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},selectedFilters),{},{category:0}));},onUpdate:onUpdate})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomFilter */.YH,{type:"radio",label:"Type",name:"type",options:Object.entries(commonEnums/* BlogsCategory */.ap).map(_ref2=>{let[key,value]=_ref2;return{label:key,value:value};}),onChange:onSelected,value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.type),onReset:()=>{setReset(true);setSelectedFilters((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},selectedFilters),{},{type:0}));},onUpdate:onUpdate})})]}):null}),readBlogs===true&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(TableComponent,{tableData:moduleData.data,tableLoading:moduleData.loading,onEditIconClick:onEditIconClick,reloadTableData:reloadTableData,onSeoIconClick:onSeoIconClick,onImageClick:onImageClick}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Pagination */.dK,{total:moduleData===null||moduleData===void 0?void 0:(_moduleData$meta=moduleData.meta)===null||_moduleData$meta===void 0?void 0:_moduleData$meta.total,current:moduleData===null||moduleData===void 0?void 0:(_moduleData$meta2=moduleData.meta)===null||_moduleData$meta2===void 0?void 0:_moduleData$meta2.page,defaultPageSize:moduleData!==null&&moduleData!==void 0&&(_moduleData$meta3=moduleData.meta)!==null&&_moduleData$meta3!==void 0&&_moduleData$meta3.perPage?moduleData===null||moduleData===void 0?void 0:(_moduleData$meta4=moduleData.meta)===null||_moduleData$meta4===void 0?void 0:_moduleData$meta4.perPage:10,pageSizeOptions:[10,20,50,100],onChange:onPaginationChange})]}),readBlogs===false&&/*#__PURE__*/(0,jsx_runtime.jsx)(ErrorCodes/* ErrorCode403 */.$t,{mainMessage:"You don't have permission to view this data"}),currentEditType.openModal&&/*#__PURE__*/(0,jsx_runtime.jsx)(SiteBlogModal,{record:currentEditType.recordId,type:currentEditType.editType,reloadTableData:()=>{var _moduleData$meta5,_moduleData$meta6;return reloadTableData({page:moduleData===null||moduleData===void 0?void 0:(_moduleData$meta5=moduleData.meta)===null||_moduleData$meta5===void 0?void 0:_moduleData$meta5.page,perPage:moduleData===null||moduleData===void 0?void 0:(_moduleData$meta6=moduleData.meta)===null||_moduleData$meta6===void 0?void 0:_moduleData$meta6.perPage});},onCancel:handleClick,openModal:currentEditType.openModal,permissions:permissions}),imagesModal.openModal&&/*#__PURE__*/(0,jsx_runtime.jsx)(Blogs_MultipleImages,{recordId:imagesModal.recordId,onCancel:()=>{setImagesModal((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},imagesModal),{},{openModal:false}));},openModal:imagesModal.openModal})]});}/* harmony default export */ const Blogs = (SiteBlogsSettings);

/***/ }),

/***/ 55163:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   K: () => (/* binding */ BlogsCategoryModule)
/* harmony export */ });
/* harmony import */ var _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83365);
/* harmony import */ var _Common_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21073);
class BlogsCategoryModule{constructor(){this.endPoint="blogs-category";this.createRecord=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post(this.endPoint+"/",data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};this.getAllRecords=queryData=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get(this.endPoint,{params:queryData});};this.getRecordById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/").concat(id,"?all=true"));};this.getAllPublishedRecords=()=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/find-published"));};this.getRecordByOneSlug=slug=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/findOneBySlug/").concat(slug));};this.updateRecord=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/").concat(id),data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};this.deleteRecord=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete("".concat(this.endPoint,"/").concat(id));};this.updateRecordByStatus=(id,status)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/changeStatus/").concat(id),{data:{status}});};this.createVerifyAndPublish=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post("".concat(this.endPoint,"/verifyAndPublish/").concat(id),data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};this.updateSEOById=(id,data)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/update-seo/").concat(id),data);};this.unpublishedRecords=(id,status)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/publish-unpublished/").concat(id),{data:{status}});};}}

/***/ }),

/***/ 83584:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   j: () => (/* binding */ CountryModule)
/* harmony export */ });
/* harmony import */ var _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83365);
/* harmony import */ var _Common_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(21073);
class CountryModule{constructor(){this.endPoint="country";this.allEndpoint="country/all";this.getAllRecords=()=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get(this.allEndpoint);};this.getAvailableRecords=()=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/available-country"));};this.getRecordById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("".concat(this.endPoint,"/").concat(id));};this.deleteRecord=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete("".concat(this.endPoint,"/").concat(id));};this.createRecord=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post(this.endPoint+"/",data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};this.updateRecord=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("".concat(this.endPoint,"/").concat(id),data,{headers:_Common_config__WEBPACK_IMPORTED_MODULE_1__/* .FormDataHeader */ .Y});};}}

/***/ })

}]);