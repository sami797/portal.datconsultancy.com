"use strict";
(self["webpackChunkdat_projects"] = self["webpackChunkdat_projects"] || []).push([[7509],{

/***/ 57509:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ PackagesSettings)
});

// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 1 modules
var message = __webpack_require__(92759);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(9950);
// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 21 modules
var es = __webpack_require__(98341);
;// ./src/Modules/Package/permissions.ts
let PackagePermissionsEnum=/*#__PURE__*/function(PackagePermissionsEnum){PackagePermissionsEnum["CREATE"]="createPackage";PackagePermissionsEnum["UPDATE"]="updatePackage";PackagePermissionsEnum["DELETE"]="deletePackage";PackagePermissionsEnum["READ"]="readPackage";return PackagePermissionsEnum;}({});
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__(89379);
// EXTERNAL MODULE: ./src/services/axiosInstance.ts
var axiosInstance = __webpack_require__(83365);
// EXTERNAL MODULE: ./src/Redux/Reducers/PackagesReducer/types.ts
var types = __webpack_require__(77451);
;// ./src/Redux/Reducers/PackagesReducer/action.ts
const getPackageData=(data,callback)=>async(dispatch,getState)=>{const{packageData,singlePackageData}=getState()["packageReducer"];let currentData=data?singlePackageData:packageData;const CURRENT_TYPE=data?types/* GET_SINGLE_PACKAGE_DATA */._w:types/* SET_PACKAGE_DATA */.RW;const url=data?"package/".concat(data,"?all=true"):"package";dispatch({type:CURRENT_TYPE,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentData),{},{loading:true})});try{var _res$data;const res=await axiosInstance/* default */.A.get(url);dispatch({type:CURRENT_TYPE,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentData),{},{loading:false,data:res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.data})});callback&&callback();}catch(error){dispatch({type:CURRENT_TYPE,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentData),{},{loading:false,errorData:error})});}};const deletePackage=(id,callback)=>async(dispatch,getState)=>{const{deletePackageData}=getState()["packageReducer"];dispatch({type:types/* DELETE_PACKAGE_DATA */.Ek,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},deletePackageData),{},{loading:true})});try{var _res$data2;const res=await axiosInstance/* default */.A.delete("package/".concat(id));dispatch({type:types/* DELETE_PACKAGE_DATA */.Ek,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},deletePackageData),{},{loading:false,data:res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.data})});callback&&callback();}catch(error){dispatch({type:types/* DELETE_PACKAGE_DATA */.Ek,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},deletePackageData),{},{loading:false,errorData:error})});}};const addPackageDataAction=(data,callback)=>async(dispatch,getState)=>{const{addPackageData}=getState()["packageReducer"];dispatch({type:types/* ADD_PACKAGE_DATA */.CQ,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},addPackageData),{},{loading:true})});try{var _res$data3;const res=await axiosInstance/* default */.A.post("package",data,{headers:{"Content-Type":"multipart/form-data"}});dispatch({type:types/* ADD_PACKAGE_DATA */.CQ,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},addPackageData),{},{loading:false,data:res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.data})});callback&&callback();}catch(error){dispatch({type:types/* ADD_PACKAGE_DATA */.CQ,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},addPackageData),{},{loading:false,errorData:error})});}};const editPackageDataAction=(data,item,callback)=>async(dispatch,getState)=>{const{editPackageData}=getState()["packageReducer"];dispatch({type:types/* EDIT_PACKAGE_DATA */.nW,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},editPackageData),{},{loading:true})});try{var _res$data4;const res=await axiosInstance/* default */.A.patch("package/".concat(item===null||item===void 0?void 0:item.id),data);dispatch({type:types/* EDIT_PACKAGE_DATA */.nW,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},editPackageData),{},{loading:false,data:res===null||res===void 0?void 0:(_res$data4=res.data)===null||_res$data4===void 0?void 0:_res$data4.data})});callback&&callback();}catch(error){dispatch({type:types/* EDIT_PACKAGE_DATA */.nW,payload:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},editPackageData),{},{loading:false,errorData:error})});}};
// EXTERNAL MODULE: ./src/Components/Atoms/index.tsx + 12 modules
var Atoms = __webpack_require__(9394);
// EXTERNAL MODULE: ./src/Components/Atoms/ErrorCodes/index.tsx + 1 modules
var ErrorCodes = __webpack_require__(36250);
// EXTERNAL MODULE: ./src/Components/Templates/SiteSettings/index.tsx
var SiteSettings = __webpack_require__(16181);
// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 18 modules
var es_form = __webpack_require__(10678);
// EXTERNAL MODULE: ./src/Components/Atoms/Input/index.tsx + 2 modules
var Input = __webpack_require__(58516);
// EXTERNAL MODULE: ./src/Components/Atoms/Modal/index.tsx + 1 modules
var Modal = __webpack_require__(97723);
;// ./src/Components/Organisms/SiteSettings/PackagesSettings/styles.module.scss
// extracted by mini-css-extract-plugin
/* harmony default export */ const styles_module = ({"actions":"styles_actions__8EAR3","bg__red":"styles_bg__red__-gmTR","form":"styles_form__J7SR1","addLanguagesWrap":"styles_addLanguagesWrap__6NrMv","addLanguages":"styles_addLanguages__0IkmN","footer":"styles_footer__3+GJ0"});
// EXTERNAL MODULE: ./src/Components/Atoms/Select/index.tsx + 1 modules
var Select = __webpack_require__(39590);
// EXTERNAL MODULE: ./src/Components/Atoms/Button/index.tsx + 1 modules
var Button = __webpack_require__(17050);
// EXTERNAL MODULE: ./src/Redux/Reducers/countryReducer/action.ts
var action = __webpack_require__(86179);
// EXTERNAL MODULE: ./src/helpers/constants.ts
var constants = __webpack_require__(65944);
// EXTERNAL MODULE: ./src/helpers/common.ts
var common = __webpack_require__(88132);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(44414);
;// ./src/Components/Organisms/SiteSettings/PackagesSettings/packageModal.tsx
const PackageModal=props=>{var _singlePackageData$da5,_singlePackageData$da6,_singlePackageData$da7,_singlePackageData$da8,_singlePackageData$da9;const{openModal,onCancel,onFinish,buttonLoading,initialValues,type}=props;const dispatch=(0,es/* useDispatch */.wA)();const[form]=es_form/* default */.A.useForm();const{countryData}=(0,es/* useSelector */.d4)(state=>state.countryReducer);const{singlePackageData}=(0,es/* useSelector */.d4)(state=>state.packageReducer);const handleSlugChange=_ref=>{let{target}=_ref;let slug=(0,common/* slugifyString */.Dv)(target.value);form.setFieldsValue({slug:slug});};(0,react.useEffect)(()=>{dispatch((0,action/* getCountryData */.BJ)());},[dispatch]);(0,react.useEffect)(()=>{if(type==="edit"&&Object.keys(singlePackageData.data).length){var _singlePackageData$da,_singlePackageData$da2,_singlePackageData$da3,_singlePackageData$da4;const translations=(_singlePackageData$da=singlePackageData.data)===null||_singlePackageData$da===void 0?void 0:_singlePackageData$da.localization;form.setFieldsValue((0,objectSpread2/* default */.A)({isPublished:(_singlePackageData$da2=singlePackageData.data)===null||_singlePackageData$da2===void 0?void 0:_singlePackageData$da2.isPublished,translations:translations,credits:(_singlePackageData$da3=singlePackageData.data)===null||_singlePackageData$da3===void 0?void 0:_singlePackageData$da3.credits,durations:(_singlePackageData$da4=singlePackageData.data)===null||_singlePackageData$da4===void 0?void 0:_singlePackageData$da4.duration},singlePackageData.data));}else{form.resetFields();}},[form,singlePackageData,type]);(0,react.useEffect)(()=>{if(type==="edit"){dispatch(getPackageData(initialValues.id));}},[dispatch,initialValues.id,type]);return/*#__PURE__*/(0,jsx_runtime.jsx)(Modal/* default */.A,{visible:openModal,onCancel:onCancel,titleText:"Add Package",showFooter:false,children:/*#__PURE__*/(0,jsx_runtime.jsxs)(es_form/* default */.A,{className:styles_module.form,onFinish:onFinish,form:form,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"slug",rules:[{required:true,message:"Please enter the Role Slug!"},{pattern:new RegExp("(^([-A-Z]|[a-z])*$)"),message:"Only letters and hyphen is allowed"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Input/* default */.A,{size:"w100",label:"Slug",asterisk:true,hint:"Only letters and hyphen is allowed",onChange:handleSlugChange})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"credits",rules:[{required:true,message:"Please enter the Credits!"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Input/* default */.A,{size:"w100",label:"Credits",asterisk:true,type:"text"})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"countryId",rules:[{required:true,message:"Please select an option!"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Select/* default */.A,{asterisk:true,label:"Country",options:countryData.data.map(item=>({value:item.id,label:item.name}))})})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"duration",rules:[{required:true,message:"Please enter the duration!"},{pattern:new RegExp("(^([0-9])*$)"),message:"Please enter a valid duration!"}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(Input/* default */.A,{size:"w100",label:"Duration",asterisk:true,type:"text",onChange:e=>{if(e.target.value>90){message/* default */.Ay.error("Duration should not be more than 90 days");e.target.value=90;}}})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"isPublished",children:/*#__PURE__*/(0,jsx_runtime.jsx)(Select/* default */.A,{label:"Published",options:[{value:true,label:"Yes"},{value:false,label:"No"}]})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"makeFeatured",children:/*#__PURE__*/(0,jsx_runtime.jsx)(Select/* default */.A,{label:"Featured",options:[{value:true,label:"Yes"},{value:false,label:"No"}]})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"makePremium",children:/*#__PURE__*/(0,jsx_runtime.jsx)(Select/* default */.A,{label:"Premium",options:[{value:true,label:"Yes"},{value:false,label:"No"}]})})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Localization */.G4,{title:"Title & Description",formName:"translations",description:true,form:form,defaultValue:singlePackageData===null||singlePackageData===void 0?void 0:(_singlePackageData$da5=singlePackageData.data)===null||_singlePackageData$da5===void 0?void 0:_singlePackageData$da5.localization}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"d-flex flex-column",children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* ImageUploader */.GA,{name:"icon",title:"Icon",defaultFileList:type==="edit"&&singlePackageData&&((_singlePackageData$da6=singlePackageData.data)===null||_singlePackageData$da6===void 0?void 0:_singlePackageData$da6.icon)&&[{uid:(_singlePackageData$da7=singlePackageData.data)===null||_singlePackageData$da7===void 0?void 0:_singlePackageData$da7.id,name:(_singlePackageData$da8=singlePackageData.data)===null||_singlePackageData$da8===void 0?void 0:_singlePackageData$da8.icon,status:"done",url:constants/* RESOURCE_BASE_URL */.to+((_singlePackageData$da9=singlePackageData.data)===null||_singlePackageData$da9===void 0?void 0:_singlePackageData$da9.icon)}]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:styles_module.footer,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Button/* default */.A,{size:"normal",fontSize:"sm",onClick:onCancel,type:"plain",children:"Cancel"}),/*#__PURE__*/(0,jsx_runtime.jsx)(Button/* default */.A,{type:"primary",size:"normal",fontSize:"sm",htmlType:"submit",loading:buttonLoading,children:"Submit"})]})]})});};
// EXTERNAL MODULE: ./node_modules/antd/es/popconfirm/index.js + 1 modules
var popconfirm = __webpack_require__(56231);
// EXTERNAL MODULE: ./node_modules/antd/es/switch/index.js + 1 modules
var es_switch = __webpack_require__(25933);
// EXTERNAL MODULE: ./node_modules/antd/es/table/index.js + 96 modules
var table = __webpack_require__(41821);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js
var DeleteOutlined = __webpack_require__(78433);
// EXTERNAL MODULE: ./src/helpers/dateHandler.ts
var dateHandler = __webpack_require__(98933);
// EXTERNAL MODULE: ./src/Components/Atoms/Headings/index.tsx
var Headings = __webpack_require__(35751);
;// ./src/Components/Organisms/SiteSettings/PackagesSettings/tableColumns.tsx
const ActionComponent=props=>{const{record,openModal,permissions:{deletePackage:deletePackagePermission}}=props;const dispatch=(0,es/* useDispatch */.wA)();const onDelete=(0,react.useCallback)(id=>{if(deletePackagePermission===true){dispatch(deletePackage(id,()=>dispatch(getPackageData())));}else{message/* default */.Ay.error("You don't have permission to delete this record, please contact your admin.");}},[dispatch]);return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:styles_module.actions,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{onClick:()=>openModal(record),children:/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:"/images/editicon.svg",alt:""})}),/*#__PURE__*/(0,jsx_runtime.jsx)(popconfirm/* default */.A,{placement:"top",title:"Are you sure?",onConfirm:()=>onDelete(record.id),okText:"Yes",cancelText:"No",children:/*#__PURE__*/(0,jsx_runtime.jsx)(DeleteOutlined/* default */.A,{className:styles_module.bg__red})})]});};function TableComponent(props){const{tableData,tableLoading,openModal}=props;const{userPermissions}=(0,es/* useSelector */.d4)(state=>state.usersReducer);const permissions=userPermissions;const dispatch=(0,es/* useDispatch */.wA)();const{editPackageData}=(0,es/* useSelector */.d4)(state=>state.packageReducer);const onPublishChange=(checked,record)=>{if(permissions.updatePackage===true){dispatch(editPackageDataAction({isPublished:checked?"true":"false"},record,()=>dispatch(getPackageData())));}else{message/* default */.Ay.error("You don't have permission to update this record, please contact your admin.");}};const columns=[{title:"S.No",dataIndex:"name",key:"index",render:(text,record,index)=>index+1,width:"5%"},{title:"Title",dataIndex:["localization","0"],key:"title",render:text=>/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-main",size:"sm",weight:"bold",children:text===null||text===void 0?void 0:text.title}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"color-dark-sub font-size-xs",dangerouslySetInnerHTML:{__html:text===null||text===void 0?void 0:text.description}})]})},{title:"Country",dataIndex:["country","name"],key:"country",render:text=>/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-sub",size:"sm",children:text})},{title:"Credits",dataIndex:"credits",key:"credits",render:text=>/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-sub",size:"sm",children:text})},{title:"Features",dataIndex:"features",key:"features",render:(text,record)=>/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-sub",size:"sm",children:"Featured: ".concat(record.makeFeatured===true?"Yes":"No")}),/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-sub",size:"sm",className:"my-1",children:"Premium: ".concat(record.makePremium===true?"Yes":"No")}),/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-sub",size:"sm",children:"Duration: ".concat(record.duration," days")})]})},{title:"Added Date",dataIndex:"addedDate",key:"addedDate",render:text=>{return/*#__PURE__*/(0,jsx_runtime.jsx)(Headings/* default */.A,{color:"dark-sub",size:"sm",children:(0,dateHandler/* convertDate */.ic)(text,"dd M,yy")});}},{title:"Published",dataIndex:"isPublished",key:"isPublished",render:(text,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(es_switch/* default */.A,{checked:text,onChange:checked=>onPublishChange(checked,record),loading:editPackageData.loading})},{title:"Actions",dataIndex:"actions",key:"actions",render:(text,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(ActionComponent,{record:record,openModal:openModal,permissions:permissions})}];return/*#__PURE__*/(0,jsx_runtime.jsx)(table/* default */.A,{sticky:true,dataSource:tableData,columns:columns,pagination:false,loading:tableLoading});}
;// ./src/Components/Organisms/SiteSettings/PackagesSettings/index.tsx
const breadCrumbsData=[{text:"Home",isLink:true,path:"/"},{isLink:true,text:"Site Settings",path:"/siteSettings"},{isLink:false,text:"Package Settings"}];function PackageSettings(){// available permissions for this module
const permissionSlug=(0,common/* getPermissionSlugs */.AH)(PackagePermissionsEnum);const{userPermissions}=(0,es/* useSelector */.d4)(state=>state.usersReducer);const permissions=userPermissions;const{readPackage,createPackage,updatePackage}=permissions;const dispatch=(0,es/* useDispatch */.wA)();const[openModal,setOpenModal]=(0,react.useState)(false);const[currentEditType,setcurrentEditType]=(0,react.useState)("new");const[selectedPackage,setSelectedPackage]=(0,react.useState)({});const{packageData,addPackageData,editPackageData}=(0,es/* useSelector */.d4)(state=>state.packageReducer);(0,react.useEffect)(()=>{dispatch(getPackageData());},[dispatch]);const onCancelClick=(0,react.useCallback)(()=>{if(createPackage===false){message/* default */.Ay.error("You don't have permission to create new package");return;}setcurrentEditType("new");setOpenModal(!openModal);setSelectedPackage({});},[openModal]);const onEditIconClick=(0,react.useCallback)(record=>{if(updatePackage===false){message/* default */.Ay.error("You don't have permission to update this package");return;}setSelectedPackage(record);setcurrentEditType("edit");setOpenModal(!openModal);},[openModal]);const onFinish=(0,react.useCallback)(obj=>{const formData=new FormData();const excludeFields=["icon","translations"];Object.entries(obj).forEach(ele=>{if(!excludeFields.includes(ele[0])){formData.append(ele[0],ele[1]);}});if(obj["icon"]&&typeof obj["icon"]!=="string"&&obj["icon"]["fileList"].length>0){formData.append("icon",obj["icon"]["fileList"][0]["originFileObj"]);}if(obj.translations){obj.translations.forEach((item,index)=>{formData.append("translations[".concat(index+1,"][language]"),item.language);formData.append("translations[".concat(index+1,"][title]"),item.title);formData.append("translations[".concat(index+1,"][description]"),item.description);});}switch(currentEditType){case"new":{if(createPackage===true){dispatch(addPackageDataAction(formData,()=>{dispatch(getPackageData());onCancelClick();}));}else{message/* default */.Ay.error("You don't have permission to create new package");}break;}case"edit":{if(updatePackage===true){dispatch(editPackageDataAction(formData,selectedPackage,()=>{dispatch(getPackageData());onCancelClick();}));}else{message/* default */.Ay.error("You don't have permission to update this package");}break;}}},[currentEditType,dispatch,onCancelClick,selectedPackage]);return/*#__PURE__*/(0,jsx_runtime.jsxs)(SiteSettings["default"],{permissionSlug:permissionSlug,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* PageHeader */.zY,{heading:"Package Settings",buttonText:"Add New Package",onButtonClick:onCancelClick,breadCrumbData:breadCrumbsData,showAdd:createPackage===true?true:false}),readPackage===true&&/*#__PURE__*/(0,jsx_runtime.jsx)(TableComponent,{tableData:packageData.data,tableLoading:packageData.loading,openModal:onEditIconClick}),readPackage===false&&/*#__PURE__*/(0,jsx_runtime.jsx)(ErrorCodes/* ErrorCode403 */.$t,{mainMessage:"You don't have permission to view this data"}),/*#__PURE__*/(0,jsx_runtime.jsx)(PackageModal,{initialValues:selectedPackage,type:currentEditType,onFinish:onFinish,onCancel:onCancelClick,openModal:openModal,buttonLoading:addPackageData.loading||editPackageData.loading})]});}/* harmony default export */ const PackagesSettings = (PackageSettings);

/***/ }),

/***/ 86179:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BJ: () => (/* binding */ getCountryData),
/* harmony export */   aE: () => (/* binding */ addCountryDataAction),
/* harmony export */   mU: () => (/* binding */ deleteCountry),
/* harmony export */   v0: () => (/* binding */ editCountryDataAction)
/* harmony export */ });
/* harmony import */ var C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(89379);
/* harmony import */ var _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(83365);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67480);
const getCountryData=callback=>async(dispatch,getState)=>{const{countryData}=getState()["countryReducer"];dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .SET_COUNTRY_DATA */ .Ds,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},countryData),{},{loading:true})});try{var _res$data;const res=await _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.get("country");dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .SET_COUNTRY_DATA */ .Ds,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},countryData),{},{loading:false,data:res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.data})});callback&&callback();}catch(error){dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .SET_COUNTRY_DATA */ .Ds,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},countryData),{},{loading:false,errorData:error})});}};const deleteCountry=(id,callback)=>async(dispatch,getState)=>{const{deleteCountryData}=getState()["countryReducer"];dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .DELETE_COUNTRY_DATA */ .cb,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},deleteCountryData),{},{loading:true})});try{var _res$data2;const res=await _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.delete("country/".concat(id));dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .DELETE_COUNTRY_DATA */ .cb,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},deleteCountryData),{},{loading:false,data:res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.data})});callback&&callback();}catch(error){dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .DELETE_COUNTRY_DATA */ .cb,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},deleteCountryData),{},{loading:false,errorData:error})});}};const addCountryDataAction=(data,callback)=>async(dispatch,getState)=>{const{addCountryData}=getState()["countryReducer"];dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .ADD_COUNTRY_DATA */ .yR,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},addCountryData),{},{loading:true})});try{var _res$data3;const res=await _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.post("country",data);dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .ADD_COUNTRY_DATA */ .yR,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},addCountryData),{},{loading:false,data:res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.data})});callback&&callback();}catch(error){dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .ADD_COUNTRY_DATA */ .yR,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},addCountryData),{},{loading:false,errorData:error})});}};const editCountryDataAction=(data,country,callback)=>async(dispatch,getState)=>{const{editCountryData}=getState()["countryReducer"];dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .EDIT_COUNTRY_DATA */ .bH,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},editCountryData),{},{loading:true})});try{var _res$data4;const res=await _services_axiosInstance__WEBPACK_IMPORTED_MODULE_0__/* ["default"] */ .A.patch("country/".concat(country===null||country===void 0?void 0:country.id),data);dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .EDIT_COUNTRY_DATA */ .bH,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},editCountryData),{},{loading:false,data:res===null||res===void 0?void 0:(_res$data4=res.data)===null||_res$data4===void 0?void 0:_res$data4.data})});callback&&callback();}catch(error){dispatch({type:_types__WEBPACK_IMPORTED_MODULE_1__/* .EDIT_COUNTRY_DATA */ .bH,payload:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},editCountryData),{},{loading:false,errorData:error})});}};

/***/ })

}]);