(self["webpackChunkdat_projects"] = self["webpackChunkdat_projects"] || []).push([[5955],{

/***/ 54405:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Q: () => (/* reexport safe */ _select__WEBPACK_IMPORTED_MODULE_0__.A),
/* harmony export */   t: () => (/* reexport safe */ _user_popover__WEBPACK_IMPORTED_MODULE_1__.A)
/* harmony export */ });
/* harmony import */ var _select__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(81467);
/* harmony import */ var _user_popover__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(57702);


/***/ }),

/***/ 81467:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(89379);
/* harmony import */ var C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(80045);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9950);
/* harmony import */ var _atoms___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(9394);
/* harmony import */ var _user_popover__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(57702);
/* harmony import */ var _styles_module_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(44424);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(44414);
const _excluded=["showPopover","user","defaultValue","options","disableOption","placeholder","notFoundDescription","loading"];/**Conditional type for showing popover. If showPopover is true,
 * then user is required else it is not required
 *//** Custom dropdown component with selectable items */const SelectableDropdown=props=>{const{showPopover=true,user,defaultValue,options,disableOption,placeholder='Select an user',notFoundDescription,loading=false}=props,rest=(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A)(props,_excluded);const[open,setOpen]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({popover:false,dropdown:false});const onOpenChange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(visible=>{if(open!==null&&open!==void 0&&open.dropdown&&!visible){setOpen((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A)({},open),{},{popover:true}));}else if(!(open!==null&&open!==void 0&&open.dropdown)&&visible){setOpen((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A)({},open),{},{popover:true}));}else{setOpen((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A)({},open),{},{popover:false}));}},[open]);const onDropdownVisibleChange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(visible=>{if(visible){setOpen({popover:false,dropdown:true});}else{setOpen({popover:false,dropdown:false});}},[open]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.Fragment,{children:showPopover?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_user_popover__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A,{type:"user",user:user,open:open===null||open===void 0?void 0:open.popover,onOpenChange:onOpenChange,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms___WEBPACK_IMPORTED_MODULE_1__/* .SelectWithSearch */ .fd,(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A)({},rest),{},{bordered:false,customOption:true,placeholder:placeholder,notFoundDescription:notFoundDescription||'No user found',defaultValue:defaultValue,options:options.map(option=>({label:option===null||option===void 0?void 0:option.label,value:option===null||option===void 0?void 0:option.value,icon:option===null||option===void 0?void 0:option.icon})),disableOption:disableOption,open:open===null||open===void 0?void 0:open.dropdown,onDropdownVisibleChange:onDropdownVisibleChange,className:"".concat(_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A.selectable_dropdown," selectWithIcon"),style:{padding:'0px'},loading:loading}))}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_atoms___WEBPACK_IMPORTED_MODULE_1__/* .SelectWithSearch */ .fd,(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A)({},rest),{},{bordered:false,customOption:true,placeholder:placeholder,notFoundDescription:notFoundDescription||'No user found',defaultValue:defaultValue,options:options.map(option=>({label:option===null||option===void 0?void 0:option.label,value:option===null||option===void 0?void 0:option.value,icon:option===null||option===void 0?void 0:option.icon})),disableOption:disableOption,open:open===null||open===void 0?void 0:open.dropdown,onDropdownVisibleChange:onDropdownVisibleChange,className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A.selectable_dropdown,loading:loading}))});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SelectableDropdown);

/***/ }),

/***/ 57702:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(89379);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(65059);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(75871);
/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(79378);
/* harmony import */ var _helpers_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(65944);
/* harmony import */ var _icons___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(63668);
/* harmony import */ var _styles_module_scss__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(44424);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(44414);
const UserPopover=props=>{const{user,children,extra,client,type}=props;return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A,(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A)({placement:"left",showArrow:false},props),{},{overlayStyle:{padding:0},overlayInnerStyle:{padding:0,borderRadius:"0.3rem"},content:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.user_popover,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.user_popover_background}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A,{size:64,src:"".concat(_helpers_constants__WEBPACK_IMPORTED_MODULE_0__/* .RESOURCE_BASE_URL */ .to).concat(type==='client'?client===null||client===void 0?void 0:client.logo:user===null||user===void 0?void 0:user.profile),icon:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A,{}),className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.user_popover_avatar}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.user_popover_content,children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("p",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.user_popover_content_name,children:type==='client'?client===null||client===void 0?void 0:client.name:"".concat(user===null||user===void 0?void 0:user.firstName," ").concat(user===null||user===void 0?void 0:user.lastName)}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("a",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.user_popover_content_email,href:"mailto:".concat(type==='client'?client===null||client===void 0?void 0:client.email:user===null||user===void 0?void 0:user.email),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_icons___WEBPACK_IMPORTED_MODULE_1__/* .EnvelopeIcon */ .u6,{width:18,height:18}),type==='client'?client===null||client===void 0?void 0:client.email:user===null||user===void 0?void 0:user.email]}),type==='user'?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:(user===null||user===void 0?void 0:user.phone)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("a",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.user_popover_content_phone,href:"tel:".concat(user===null||user===void 0?void 0:user.phoneCode).concat(user===null||user===void 0?void 0:user.phone),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_icons___WEBPACK_IMPORTED_MODULE_1__/* .PhoneIcon */ .Es,{width:18,height:18}),"+".concat((user===null||user===void 0?void 0:user.phoneCode)||"971").concat(user===null||user===void 0?void 0:user.phone)]})}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:(client===null||client===void 0?void 0:client.phone)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("a",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.user_popover_content_phone,href:"tel:".concat(client===null||client===void 0?void 0:client.phoneCode).concat(client===null||client===void 0?void 0:client.phone),children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_icons___WEBPACK_IMPORTED_MODULE_1__/* .PhoneIcon */ .Es,{width:18,height:18}),"+".concat((client===null||client===void 0?void 0:client.phoneCode)||"971").concat(client===null||client===void 0?void 0:client.phone)]})}),extra&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A.user_popover_content_extra,children:extra})]})]}),children:children}));};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserPopover);

/***/ }),

/***/ 51550:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   n: () => (/* binding */ TechSupportModal)
/* harmony export */ });
/* harmony import */ var C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(89379);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(10678);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(92759);
/* harmony import */ var _Atoms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9394);
/* harmony import */ var _Common_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(96019);
/* harmony import */ var _Skeletons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(70619);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(9950);
/* harmony import */ var _Atoms_ServerErrorHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(13321);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(38266);
/* harmony import */ var _modules_Task__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(12671);
/* harmony import */ var _helpers_useDebounce__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(28173);
/* harmony import */ var _modules_User__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(47645);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(44414);
const TechSupportModal=props=>{const{openModal,onCancel,reloadTableData,permissions:{createTask}}=props;const[form]=antd__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A.useForm();const module=(0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>new _modules_Task__WEBPACK_IMPORTED_MODULE_5__/* .TaskModule */ ._(),[]);const userModule=(0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(()=>new _modules_User__WEBPACK_IMPORTED_MODULE_7__/* .UserModule */ .U(),[]);const[recordData,setRecordData]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();// User Search Term
const[searchTermUser,setSearchTermUser]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)("");const debouncedSearchTermUser=(0,_helpers_useDebounce__WEBPACK_IMPORTED_MODULE_6__/* .useDebounce */ .d)(searchTermUser,500);const[userOptions,setUserOptions]=(0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);const handleErrors=err=>{const error=(0,_helpers__WEBPACK_IMPORTED_MODULE_10__/* .errorHandler */ .r)(err);if(typeof error.message=="string"){setRecordData((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)({},recordData),{},{error:error.message}));}else{let errData=(0,_Atoms_ServerErrorHandler__WEBPACK_IMPORTED_MODULE_4__/* .HandleServerErrors */ .p)(error.message,[]);form.setFields(errData);setRecordData((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)({},recordData),{},{error:""}));}};const handleAlertClose=()=>{setRecordData((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)({},recordData),{},{error:""}));};const onFinish=formValues=>{const formData=new FormData();const excludeFields=["file"];Object.entries(formValues).forEach(ele=>{if(!excludeFields.includes(ele[0])){formData.append(ele[0],ele[1]);}});if(formValues["file"]&&typeof formValues["file"]!=="string"&&formValues["file"]["fileList"].length>0){var _formValues$file,_formValues$file$file;// add attachments to form data 
const files=(_formValues$file=formValues["file"])===null||_formValues$file===void 0?void 0:(_formValues$file$file=_formValues$file.fileList)===null||_formValues$file$file===void 0?void 0:_formValues$file$file.map(file=>{return file.originFileObj;});if(files!==null&&files!==void 0&&files.length){for(let i=0;i<files.length;i++){formData.append('files[]',files[i]);}}}// remove the file from the form values
delete formValues["file"];setRecordData((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)({},recordData),{},{buttonLoading:true}));if(createTask===true){module.createRecord((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)({},formValues),{},{type:2})).then(res=>{if(formData.get('files[]')){formData.append("taskId",res.data.data.id);module.uploadFiles(formData).then(res=>{antd__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Ay.success(res.data.message);onCancel();setRecordData(prev=>(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)({},prev),{},{buttonLoading:false}));}).catch(err=>{module.deleteRecord(res.data.data.id);handleErrors(err);setRecordData(prev=>(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)({},prev),{},{buttonLoading:false}));});}else{antd__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Ay.success(res.data.message);onCancel();setRecordData(prev=>(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)({},prev),{},{buttonLoading:false}));}if(reloadTableData)reloadTableData();}).catch(err=>{handleErrors(err);setRecordData(prev=>(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)({},prev),{},{buttonLoading:false}));});}else{setRecordData(prev=>(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_11__/* ["default"] */ .A)({},prev),{},{buttonLoading:false}));antd__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Ay.error("You don't have permission to create this record");}};// User Search
const onUserSearch=function(){let query=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};userModule.getAllRecords(query).then(res=>{const{data}=res;setUserOptions(prev=>{var _data$data;// if the data is already present in the state, then don't add it again
const filteredData=data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.filter(item=>{return!(prev!==null&&prev!==void 0&&prev.find(prevItem=>prevItem.id===item.id));});// add the new data to the existing data
return[...prev,...filteredData];});}).catch(err=>{antd__WEBPACK_IMPORTED_MODULE_12__/* ["default"] */ .Ay.error(err.response.data.message);});};// search for users or garren
(0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(()=>{onUserSearch({name:debouncedSearchTermUser||"Garren"});},[debouncedSearchTermUser]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Atoms__WEBPACK_IMPORTED_MODULE_0__/* .CustomModal */ .jo,{visible:openModal,closable:true,onCancel:onCancel,titleText:"Add New Tech Support",showFooter:false,children:recordData!==null&&recordData!==void 0&&recordData.loading?/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Skeletons__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A,{items:10}):/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A,{className:_Common_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.form,onFinish:onFinish,form:form,children:[(recordData===null||recordData===void 0?void 0:recordData.error)&&/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Atoms__WEBPACK_IMPORTED_MODULE_0__/* .CustomErrorAlert */ .WZ,{description:recordData===null||recordData===void 0?void 0:recordData.error,isClosable:true,onClose:handleAlertClose}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A.Item,{name:"title",rules:[{required:true,message:"Please add a title"}],children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Atoms__WEBPACK_IMPORTED_MODULE_0__/* .CustomInput */ .wi,{size:"w100",label:"Title",asterisk:true,type:"textArea",placeHolder:"Enter Title"})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A.Item,{name:"assignedTo",rules:[{required:true,message:"Please select a user"}],help:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("small",{children:"You can assign multiple users to a task"}),style:{marginBottom:30},children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Atoms__WEBPACK_IMPORTED_MODULE_0__/* .SelectWithSearch */ .fd,{label:"Assign to",placeholder:"Search for user to assign task",mode:"multiple",asterisk:false,notFoundDescription:"No users found., Please search for a user",onSearch:value=>setSearchTermUser(value),options:userOptions===null||userOptions===void 0?void 0:userOptions.map(item=>({label:"".concat(item.firstName," ").concat(item.lastName),value:item.id}))})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(antd__WEBPACK_IMPORTED_MODULE_9__/* ["default"] */ .A.Item,{name:"instructions",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Atoms__WEBPACK_IMPORTED_MODULE_0__/* .CustomInput */ .wi,{size:"w100",label:"Details",type:"textArea"})})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)("div",{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Atoms__WEBPACK_IMPORTED_MODULE_0__/* .ImageUploader */ .GA,{multiple:true,name:"file",required:false})}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsxs)("div",{className:"d-flex justify-end mt-4",children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Atoms__WEBPACK_IMPORTED_MODULE_0__/* .CustomButton */ .Sv,{size:"normal",fontSize:"sm",onClick:onCancel,type:"plain",children:"Cancel"}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__.jsx)(_Atoms__WEBPACK_IMPORTED_MODULE_0__/* .CustomButton */ .Sv,{type:"primary",size:"normal",fontSize:"sm",htmlType:"submit",loading:recordData===null||recordData===void 0?void 0:recordData.buttonLoading,children:"Add Request"})]})]})});};

/***/ }),

/***/ 73656:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  H: () => (/* binding */ TaskDetailsModal)
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__(89379);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/FolderTwoTone.js + 1 modules
var FolderTwoTone = __webpack_require__(31023);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/CopyOutlined.js
var CopyOutlined = __webpack_require__(78887);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/WhatsAppOutlined.js + 1 modules
var WhatsAppOutlined = __webpack_require__(53983);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/ShareAltOutlined.js + 1 modules
var ShareAltOutlined = __webpack_require__(4228);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/PaperClipOutlined.js
var PaperClipOutlined = __webpack_require__(78188);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js
var DeleteOutlined = __webpack_require__(78433);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/UserOutlined.js + 1 modules
var UserOutlined = __webpack_require__(79378);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(9950);
// EXTERNAL MODULE: ./src/hooks/index.ts + 5 modules
var hooks = __webpack_require__(91970);
// EXTERNAL MODULE: ./src/Modules/Task/index.ts
var Task = __webpack_require__(12671);
;// ./src/Components/Organisms/Dashboard/SupportBoard/TaskDetailsModal/style.module.scss
// extracted by mini-css-extract-plugin
/* harmony default export */ const style_module = ({"taskId":"style_taskId__2BTHQ","selectWrap":"style_selectWrap__DzPH8","modalWrap":"style_modalWrap__rvQrM","modalLeft":"style_modalLeft__YbLh4","Tasktitle":"style_Tasktitle__XOPaG","title":"style_title__lEqtv","actionButtonWrap":"style_actionButtonWrap__fM3h9","actionButton":"style_actionButton__RHsKf","descriptionWrap":"style_descriptionWrap__lEAoy","instructions":"style_instructions__SEYWe","attachmentsWrap":"style_attachmentsWrap__EtVCO","resourceWrap":"style_resourceWrap__17yk5","deleteWrap":"style_deleteWrap__Z+oST","modalRight":"style_modalRight__Wt8JK","status":"style_status__sDM3U","rightTop":"style_rightTop__rj6WW","rightBottom":"style_rightBottom__QNNJm","row":"style_row__R4nHG","rowTitle":"style_rowTitle__gOjSn","rowValue":"style_rowValue__MZWOT","editableRowValue":"style_editableRowValue__2jz5d"});
// EXTERNAL MODULE: ./node_modules/antd/es/typography/index.js + 15 modules
var typography = __webpack_require__(30377);
// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 1 modules
var message = __webpack_require__(92759);
// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 7 modules
var modal = __webpack_require__(32645);
// EXTERNAL MODULE: ./node_modules/antd/es/popover/index.js
var popover = __webpack_require__(65059);
// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/index.js
var tooltip = __webpack_require__(81541);
// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js
var es_button = __webpack_require__(48538);
// EXTERNAL MODULE: ./node_modules/antd/es/upload/index.js + 19 modules
var upload = __webpack_require__(28013);
// EXTERNAL MODULE: ./node_modules/antd/es/popconfirm/index.js + 1 modules
var popconfirm = __webpack_require__(56231);
// EXTERNAL MODULE: ./node_modules/antd/es/image/index.js + 13 modules
var es_image = __webpack_require__(9206);
// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js + 30 modules
var es_select = __webpack_require__(97554);
// EXTERNAL MODULE: ./node_modules/antd/es/avatar/index.js + 3 modules
var avatar = __webpack_require__(75871);
// EXTERNAL MODULE: ./src/helpers/constants.ts
var constants = __webpack_require__(65944);
// EXTERNAL MODULE: ./src/helpers/dateHandler.ts
var dateHandler = __webpack_require__(98933);
// EXTERNAL MODULE: ./src/helpers/commonEnums.ts
var commonEnums = __webpack_require__(2360);
// EXTERNAL MODULE: ./src/Components/Atoms/EditableInput/index.tsx + 1 modules
var EditableInput = __webpack_require__(27642);
// EXTERNAL MODULE: ./node_modules/antd/es/skeleton/index.js + 11 modules
var skeleton = __webpack_require__(46005);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(44414);
;// ./src/Components/Organisms/Dashboard/SupportBoard/TaskDetailsModal/TaskSkeleton.tsx
const TaskSkeleton=()=>{return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'2rem',alignItems:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{width:'65%'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(skeleton/* default */.A,{active:true,round:true,paragraph:{rows:0},style:{width:400}}),/*#__PURE__*/(0,jsx_runtime.jsx)(skeleton/* default */.A.Input,{active:true,style:{width:600}}),/*#__PURE__*/(0,jsx_runtime.jsx)(skeleton/* default */.A,{active:true,round:true,paragraph:{rows:4},style:{width:'100%',marginTop:'3rem'}}),/*#__PURE__*/(0,jsx_runtime.jsx)(skeleton/* default */.A,{active:true,round:true,paragraph:{rows:0},style:{width:400,marginTop:'3rem'}}),/*#__PURE__*/(0,jsx_runtime.jsx)(skeleton/* default */.A.Node,{active:true})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{width:'35%'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(skeleton/* default */.A.Button,{active:true,style:{width:100}}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'1rem',width:'100%',marginTop:'2rem',border:'1px solid var(--color-light)',borderRadius:'0.25rem',padding:'0.5rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(skeleton/* default */.A,{active:true,round:true,paragraph:{rows:5},style:{width:'50%'}}),/*#__PURE__*/(0,jsx_runtime.jsx)(skeleton/* default */.A,{active:true,round:true,paragraph:{rows:5},style:{width:'50%'}})]})]})]});};
// EXTERNAL MODULE: ./src/services/axiosInstance.ts
var axiosInstance = __webpack_require__(83365);
// EXTERNAL MODULE: ./src/services/tokenService.ts
var tokenService = __webpack_require__(92966);
// EXTERNAL MODULE: ./node_modules/pdfjs-dist/build/pdf.js
var pdf = __webpack_require__(73114);
// EXTERNAL MODULE: ./node_modules/react-pdf/dist/esm/Document.js + 1 modules
var Document = __webpack_require__(39087);
// EXTERNAL MODULE: ./node_modules/react-pdf/dist/esm/Page.js + 12 modules
var Page = __webpack_require__(93852);
// EXTERNAL MODULE: ./src/Components/Atoms/UserPopver/index.ts
var UserPopver = __webpack_require__(54405);
// EXTERNAL MODULE: ./src/Components/Icons/index.tsx + 58 modules
var Icons = __webpack_require__(63668);
// EXTERNAL MODULE: ./src/Modules/User/index.ts
var User = __webpack_require__(47645);
// EXTERNAL MODULE: ./src/helpers/useDebounce.ts
var useDebounce = __webpack_require__(28173);
// EXTERNAL MODULE: ./src/Components/Atoms/EditableTextarea/index.tsx + 1 modules
var EditableTextarea = __webpack_require__(3332);
// EXTERNAL MODULE: ./src/Components/Atoms/EditableDatePicker/index.tsx + 1 modules
var EditableDatePicker = __webpack_require__(86496);
// EXTERNAL MODULE: ./node_modules/moment/moment.js
var moment = __webpack_require__(59051);
var moment_default = /*#__PURE__*/__webpack_require__.n(moment);
;// ./src/Components/Organisms/Dashboard/SupportBoard/TaskDetailsModal/index.tsx
const{Text}=typography/* default */.A;const TaskDetailsModal=props=>{var _data$instructions,_data$instructions$sp,_Object$entries,_supportEngineers$dat,_data$AddedBy,_data$AddedBy2,_data$AddedBy3,_isUpdate$taskEndOn,_taskPriority$;const{openModal,onCancel,id,onUpdate}=props;pdf.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(pdf.version,"/pdf.worker.js");const module=(0,react.useMemo)(()=>new Task/* TaskModule */._(),[]);const userModule=(0,react.useMemo)(()=>new User/* UserModule */.U(),[]);const access_token=tokenService/* default */.A.getLocalAccessToken();const[showUploadList,setShowUploadList]=(0,react.useState)({showPreviewIcon:true,showRemoveIcon:false});const[fileList,setFileList]=(0,react.useState)([]);const uploadProps={name:"file",listType:"picture",multiple:true,beforeUpload:()=>false,maxCount:5,accept:"*"};const[isUpdate,setIsUpdate]=(0,react.useState)({taskTitle:{show:false,value:""},instructions:{show:false,value:""},taskEndOn:{show:false,value:""}});const[showShare,setShowShare]=(0,react.useState)(false);const[deleteId,setDeleteId]=(0,react.useState)();// Support Engineers Searched Users
const[supportEngineers,setSupportEngineers]=(0,react.useState)({data:[],loading:false});const[showRemoveSupportEng,setShowRemoveSupportEng]=(0,react.useState)({});// Support Engineers Search Term
const[supportEngineersTerm,setSearchSupportEngineers]=(0,react.useState)("");const debouncedSupportEngineersTerm=(0,useDebounce/* useDebounce */.d)(supportEngineersTerm,500);const{data,onRefresh,setData}=(0,hooks/* useFetchData */.Gs)({method:()=>module.getRecordById(id)});/** Remove Project Member */const onRemoveProjectMember=userId=>{// if (permissions.modifyProjectMembers === true) {
module.removeTaskMembers(Number(data===null||data===void 0?void 0:data.id),userId).then(res=>{var _res$data;message/* default */.Ay.success(res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.message);onRefresh();onUpdate();}).catch(err=>{var _err$response,_err$response$data;const errorMessage=err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message;message/* default */.Ay.error(errorMessage);});// } else {
//     message.error("You don't have permission to remove project members")
// }
};const onUpdateProjectMember=_ref=>{let{assignedTo}=_ref;// if (permissions.modifyProjectMembers === true) {
module.updateTaskMembers({taskId:data===null||data===void 0?void 0:data.id,assignedTo:assignedTo}).then(res=>{var _res$data2;message/* default */.Ay.success(res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.message);onRefresh();onUpdate();}).catch(err=>{var _err$response2,_err$response2$data;const errorMessage=err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message;message/* default */.Ay.error(errorMessage);});// } else {
//   message.error("You don't have permission to update project members")
// }
};const GetSupportEngineers=params=>{setSupportEngineers(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:true}));userModule.getAllRecords(params).then(res=>{setSupportEngineers(prev=>{var _res$data3,_res$data3$data;// if the data is already present in the state, then don't add it again
const filteredData=res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:(_res$data3$data=_res$data3.data)===null||_res$data3$data===void 0?void 0:_res$data3$data.filter(item=>{var _prev$data;return!(prev!==null&&prev!==void 0&&(_prev$data=prev.data)!==null&&_prev$data!==void 0&&_prev$data.find(prevItem=>prevItem.User.id===item.id));});const _temp=[];filteredData.forEach(item=>{_temp.push({User:item});});// add the new data to the existing data
return{data:[...prev.data,..._temp],loading:false};});}).catch(err=>{message/* default */.Ay.error(err.response.data.message||"Something went wrong!");setSupportEngineers(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));});};// Support Engineer Search
const onSupportEngineerSearch=(0,react.useCallback)(()=>{if(debouncedSupportEngineersTerm){GetSupportEngineers({name:debouncedSupportEngineersTerm});}},[debouncedSupportEngineersTerm]);(0,react.useEffect)(()=>{onSupportEngineerSearch();},[onSupportEngineerSearch]);const handleFileChange=info=>{let newFileList=[...info.fileList];// 1. Limit the number of uploaded files
// Only to show two recent uploaded files, and old ones will be replaced by the new
newFileList=newFileList.slice(-2);// 2. Read from response and show file link
newFileList=newFileList.map(file=>{if(file.response){// Component will show file.url as link
file.url=file.response.url;}return file;});setFileList(newFileList);setShowUploadList((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},showUploadList),{},{showRemoveIcon:true}));};(0,react.useEffect)(()=>{if(id&&openModal)onRefresh();},[openModal]);(0,react.useEffect)(()=>{if(data)setIsUpdate({taskTitle:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.taskTitle),{},{value:data===null||data===void 0?void 0:data.title}),instructions:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.taskTitle),{},{value:data===null||data===void 0?void 0:data.instructions})});setSupportEngineers((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},supportEngineers),{},{data:data===null||data===void 0?void 0:data.TaskMembers}));},[data]);(0,react.useEffect)(()=>{if(fileList.length>0){const formData=new FormData();fileList.forEach(file=>{formData.append("files[]",file["originFileObj"]);});module.uploadFiles({"files[]":formData.get("files[]"),taskId:id}).then(res=>{onRefresh();setFileList([]);props.onUpdate();}).catch(err=>{setFileList([]);console.log(err);});}},[fileList]);return/*#__PURE__*/(0,jsx_runtime.jsx)(modal/* default */.A,{open:openModal,closable:true,onCancel:()=>{onCancel();setData(undefined);},footer:false,width:1200,centered:true,destroyOnClose:true,bodyStyle:{minHeight:'600px'},className:"task-detail-modal",children:!data?/*#__PURE__*/(0,jsx_runtime.jsx)(TaskSkeleton,{}):/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.taskId,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(FolderTwoTone/* default */.A,{style:{fontSize:16,marginRight:'0.25rem'},twoToneColor:"#52c41a"})," TCH-",data===null||data===void 0?void 0:data.id]})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.modalWrap,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.modalLeft,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[isUpdate.taskTitle.show?/*#__PURE__*/(0,jsx_runtime.jsx)(EditableInput/* default */.A,{onBlur:()=>setIsUpdate((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate),{},{taskTitle:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.taskTitle),{},{show:false})})),onChange:e=>setIsUpdate((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate),{},{taskTitle:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.taskTitle),{},{value:e.target.value})})),onMouseDown:()=>{module.updateRecord({title:isUpdate.taskTitle.value},Number(data===null||data===void 0?void 0:data.id)).then(res=>{if(res){setData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},data),{},{title:isUpdate.taskTitle.value}));props.onUpdate();}});},defaultValue:data===null||data===void 0?void 0:data.title}):/*#__PURE__*/(0,jsx_runtime.jsx)("div",{onClick:()=>setIsUpdate((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate),{},{taskTitle:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.taskTitle),{},{show:true})})),className:style_module.Tasktitle,children:/*#__PURE__*/(0,jsx_runtime.jsx)("b",{children:data===null||data===void 0?void 0:data.title})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.actionButtonWrap,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(popover/* default */.A,{content:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'1rem'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.A,{overlayInnerStyle:{borderRadius:'0.25rem',fontSize:'var(--font-size-sm)'},placement:"bottom",title:"Link copied successfully",trigger:"click",showArrow:false,children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{icon:/*#__PURE__*/(0,jsx_runtime.jsx)(CopyOutlined/* default */.A,{}),size:"large",onClick:()=>{var _navigator,_navigator$clipboard;return(_navigator=navigator)===null||_navigator===void 0?void 0:(_navigator$clipboard=_navigator.clipboard)===null||_navigator$clipboard===void 0?void 0:_navigator$clipboard.writeText(window.location.href);},children:"Copy Link"})}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{icon:/*#__PURE__*/(0,jsx_runtime.jsx)(WhatsAppOutlined/* default */.A,{}),size:"large",children:"Whatsapp"})]}),title:"Share task",placement:"bottom",trigger:"click",open:showShare,onOpenChange:()=>setShowShare(!showShare),overlayInnerStyle:{borderRadius:'0.25rem',fontSize:'var(--font-size-sm)'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{size:"small",icon:/*#__PURE__*/(0,jsx_runtime.jsx)(ShareAltOutlined/* default */.A,{style:{fontSize:18}}),className:style_module.actionButton,children:"Share"})}),/*#__PURE__*/(0,jsx_runtime.jsx)(upload/* default */.A,(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},uploadProps),{},{showUploadList:showUploadList,fileList:fileList,onChange:handleFileChange,children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{icon:/*#__PURE__*/(0,jsx_runtime.jsx)(PaperClipOutlined/* default */.A,{style:{fontSize:18}}),onClick:()=>{},className:style_module.actionButton,children:"Attach"})})),/*#__PURE__*/(0,jsx_runtime.jsx)(popconfirm/* default */.A,{title:"Are you sure you want to delete this task?",onConfirm:()=>{module.deleteRecord(id).then(()=>{onCancel();setData(undefined);onRefresh();props.onUpdate();}).catch(err=>{message/* default */.Ay.error("Something bad happened");});},okText:"Yes",cancelText:"No",overlayInnerStyle:{borderRadius:'0.25rem'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{size:"small",icon:/*#__PURE__*/(0,jsx_runtime.jsx)(DeleteOutlined/* default */.A,{style:{fontSize:18}}),className:style_module.actionButton,children:"Delete"})})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{onBlur:()=>setIsUpdate((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate),{},{instructions:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.instructions),{},{show:false})})),className:style_module.descriptionWrap,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.title,children:/*#__PURE__*/(0,jsx_runtime.jsx)("b",{children:"Descriptionnnnn"})}),isUpdate.instructions.show?/*#__PURE__*/(0,jsx_runtime.jsx)(EditableTextarea/* default */.A,{onBlur:()=>setIsUpdate((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate),{},{taskTitle:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.taskTitle),{},{show:false})})),onChange:e=>setIsUpdate((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate),{},{instructions:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.instructions),{},{value:e.target.value})})),onMouseDown:()=>{var _isUpdate$instruction;module.updateRecord({instructions:isUpdate===null||isUpdate===void 0?void 0:(_isUpdate$instruction=isUpdate.instructions)===null||_isUpdate$instruction===void 0?void 0:_isUpdate$instruction.value},Number(data===null||data===void 0?void 0:data.id)).then(res=>{if(res){setData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},data),{},{instructions:isUpdate.instructions.value}));props.onUpdate();}});},defaultValue:data===null||data===void 0?void 0:data.instructions}):/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.instructions,onClick:()=>setIsUpdate((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate),{},{instructions:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.instructions),{},{show:true})})),children:data===null||data===void 0?void 0:(_data$instructions=data.instructions)===null||_data$instructions===void 0?void 0:(_data$instructions$sp=_data$instructions.split('\n'))===null||_data$instructions$sp===void 0?void 0:_data$instructions$sp.map(item=>/*#__PURE__*/(0,jsx_runtime.jsx)("p",{children:item}))})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.descriptionWrap,children:!((data===null||data===void 0?void 0:data.Resources.length)>0)?null:/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.title,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("b",{children:["Attachments (",data===null||data===void 0?void 0:data.Resources.length,")"]})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.attachmentsWrap,children:data.Resources.map(resource=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.resourceWrap,children:[resource.fileType.includes("image")?/*#__PURE__*/(0,jsx_runtime.jsx)(es_image/* default */.A,{style:{objectFit:'cover',borderRadius:'0.25rem 0.25rem 0 0'},width:150,height:100,src:"".concat(axiosInstance/* BASE_URL */.C,"resources/all/").concat(resource.path,"?authKey=").concat(access_token)}):/*#__PURE__*/(0,jsx_runtime.jsx)("a",{href:"".concat(constants/* APPLICATION_RESOURCE_BASE_URL */.Ur).concat(resource===null||resource===void 0?void 0:resource.path),target:"_blank",rel:"noreferrer",children:/*#__PURE__*/(0,jsx_runtime.jsx)(Document/* default */.A,{file:"".concat(axiosInstance/* BASE_URL */.C,"resources/all/").concat(resource.path,"?authKey=").concat(access_token)// onLoadSuccess={onDocumentLoadSuccess}
,children:/*#__PURE__*/(0,jsx_runtime.jsx)(Page/* default */.A,{renderTextLayer:false,pageNumber:1})})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{padding:'0.25rem 0.5rem',borderRadius:'0.25rem',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Text,{style:{width:125,fontSize:'var(--font-size-xs)'},strong:true,ellipsis:true,children:resource.name}),/*#__PURE__*/(0,jsx_runtime.jsx)(Text,{style:{width:125,fontSize:'var(--font-size-xxs)'},ellipsis:true,children:(0,dateHandler/* convertDate */.ic)(resource.addedDate,"dd M,yy-t")})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(popconfirm/* default */.A,{title:"Are you sure you want to delete this attachment?",onConfirm:()=>{module.removeTaskFile(deleteId).then(()=>{onRefresh();props.onUpdate();}).catch(err=>{message/* default */.Ay.error("Something bad happened");});},okText:"Yes",cancelText:"No",overlayInnerStyle:{borderRadius:'0.25rem'},children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{title:"Delete task",onClick:()=>{setDeleteId(resource.id);},className:style_module.deleteWrap,children:/*#__PURE__*/(0,jsx_runtime.jsx)(DeleteOutlined/* default */.A,{style:{fontSize:14,color:'var(--color-light)'}})})})]}))})]})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.modalRight,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.status,children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.selectWrap,children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_select/* default */.A,{value:commonEnums/* techSupportColumnLabels */.V8[data===null||data===void 0?void 0:data.status],style:{fontSize:'var(--font-size-sm)',background:commonEnums/* taskColumnLabelsColors */.H7[data===null||data===void 0?void 0:data.status],borderRadius:'0.25rem',border:'none'},onChange:val=>{module.updateRecord({status:Number(val)},Number(data===null||data===void 0?void 0:data.id)).then(res=>{if(res){setData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},data),{},{status:Number(val)}));props.onUpdate();}});},bordered:false,options:(_Object$entries=Object.entries(commonEnums/* taskColumnLabels */.XD))===null||_Object$entries===void 0?void 0:_Object$entries.map(_ref2=>{let[key,value]=_ref2;return{label:value,value:key};}),dropdownStyle:{borderRadius:'0.25rem',minWidth:120}})})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rightTop,children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("b",{children:"Details"})})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.rightBottom,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.row,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rowTitle,children:/*#__PURE__*/(0,jsx_runtime.jsx)("b",{children:"Assigned By"})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.rowValue,style:{display:'flex',gap:'0.5rem',flexDirection:'column'},children:[data===null||data===void 0?void 0:data.TaskMembers.map(member=>{const{User}=member;return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'1rem',alignItems:'center',justifyContent:'space-between'},onMouseEnter:()=>setShowRemoveSupportEng({[User===null||User===void 0?void 0:User.uuid]:true}),onMouseLeave:()=>setShowRemoveSupportEng({[User===null||User===void 0?void 0:User.uuid]:false}),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(UserPopver/* UserPopover */.t,{type:"user",user:User,children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'0.5rem',alignItems:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(avatar/* default */.A,{size:32,src:"".concat(constants/* RESOURCE_BASE_URL */.to).concat(User===null||User===void 0?void 0:User.profile),icon:/*#__PURE__*/(0,jsx_runtime.jsx)(UserOutlined/* default */.A,{}),style:{border:'1px solid var(--color-border)'}}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:"".concat(User===null||User===void 0?void 0:User.firstName," ").concat(User===null||User===void 0?void 0:User.lastName)})]})}),showRemoveSupportEng[User===null||User===void 0?void 0:User.uuid]&&/*#__PURE__*/(0,jsx_runtime.jsx)(popconfirm/* default */.A,{placement:"left",title:"Are you sure to remove this member?",onConfirm:()=>onRemoveProjectMember(User===null||User===void 0?void 0:User.id),okText:"Yes",cancelText:"No",children:/*#__PURE__*/(0,jsx_runtime.jsx)(Icons/* XMarkIcon */.fK,{style:{cursor:'pointer'},color:"var(--color-red-yp)"})})]},User===null||User===void 0?void 0:User.uuid);}),/*#__PURE__*/(0,jsx_runtime.jsx)(UserPopver/* SelectableDropdown */.Q,{showPopover:false,placeholder:"Add Assignee",notFoundDescription:"No Assignee Found, Search with name",loading:supportEngineers===null||supportEngineers===void 0?void 0:supportEngineers.loading,onSearch:value=>setSearchSupportEngineers(value)// Don't show the already added support engineers
,options:(supportEngineers===null||supportEngineers===void 0?void 0:(_supportEngineers$dat=supportEngineers.data)===null||_supportEngineers$dat===void 0?void 0:_supportEngineers$dat.map(member=>{var _member$User,_member$User2,_member$User3,_member$User4;return{value:member===null||member===void 0?void 0:(_member$User=member.User)===null||_member$User===void 0?void 0:_member$User.uuid,label:"".concat(member===null||member===void 0?void 0:(_member$User2=member.User)===null||_member$User2===void 0?void 0:_member$User2.firstName," ").concat(member===null||member===void 0?void 0:(_member$User3=member.User)===null||_member$User3===void 0?void 0:_member$User3.lastName),icon:/*#__PURE__*/(0,jsx_runtime.jsx)(avatar/* default */.A,{size:32,src:"".concat(constants/* RESOURCE_BASE_URL */.to).concat(member===null||member===void 0?void 0:(_member$User4=member.User)===null||_member$User4===void 0?void 0:_member$User4.profile),icon:/*#__PURE__*/(0,jsx_runtime.jsx)(UserOutlined/* default */.A,{})})};}))||[],onSelect:value=>{var _data$find;const{data}=supportEngineers;const selectedUser=data===null||data===void 0?void 0:(_data$find=data.find(member=>(member===null||member===void 0?void 0:member.User.uuid)===value))===null||_data$find===void 0?void 0:_data$find.User;onUpdateProjectMember({assignedTo:[selectedUser===null||selectedUser===void 0?void 0:selectedUser.id.toString()]});}})]})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.row,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rowTitle,children:/*#__PURE__*/(0,jsx_runtime.jsx)("b",{children:"Added by"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rowValue,children:data.AddedBy&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:'flex',gap:'0.5rem',alignItems:'center'},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(avatar/* default */.A,{size:32,style:{border:'0.5px solid var(--color-light-200)'},src:constants/* RESOURCE_BASE_URL */.to+((_data$AddedBy=data.AddedBy)===null||_data$AddedBy===void 0?void 0:_data$AddedBy.profile),icon:/*#__PURE__*/(0,jsx_runtime.jsx)(UserOutlined/* default */.A,{})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:"".concat((_data$AddedBy2=data.AddedBy)===null||_data$AddedBy2===void 0?void 0:_data$AddedBy2.firstName," ").concat((_data$AddedBy3=data.AddedBy)===null||_data$AddedBy3===void 0?void 0:_data$AddedBy3.lastName)})]})})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.row,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rowTitle,children:/*#__PURE__*/(0,jsx_runtime.jsx)("b",{children:"Start date"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rowValue,children:(0,dateHandler/* convertDate */.ic)((data===null||data===void 0?void 0:data.taskStartFrom)||"","MM dd,yy")})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.row,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rowTitle,children:/*#__PURE__*/(0,jsx_runtime.jsx)("b",{children:"End date"})}),isUpdate!==null&&isUpdate!==void 0&&(_isUpdate$taskEndOn=isUpdate.taskEndOn)!==null&&_isUpdate$taskEndOn!==void 0&&_isUpdate$taskEndOn.show?/*#__PURE__*/(0,jsx_runtime.jsx)(EditableDatePicker/* default */.A,{onBlur:()=>setIsUpdate((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate),{},{taskEndOn:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.taskEndOn),{},{show:false})})),onChange:value=>setIsUpdate((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate),{},{taskEndOn:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.taskEndOn),{},{value:value===null||value===void 0?void 0:value.toISOString()})})),onMouseDown:()=>{module.updateRecord({taskEndOn:isUpdate.taskEndOn.value},Number(data===null||data===void 0?void 0:data.id)).then(res=>{if(res){setData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},data),{},{taskEndOn:isUpdate.taskEndOn.value}));props.onUpdate();}});},defaultValue:moment_default()(data===null||data===void 0?void 0:data.taskEndOn)}):/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rowValue+" "+style_module.editableRowValue,style:{color:new Date()>new Date(data===null||data===void 0?void 0:data.taskEndOn)?(_taskPriority$=commonEnums/* taskPriority */.sh["1"])===null||_taskPriority$===void 0?void 0:_taskPriority$.color:undefined},onClick:()=>setIsUpdate((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate),{},{taskEndOn:(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},isUpdate.taskEndOn),{},{show:true})})),children:(0,dateHandler/* convertDate */.ic)((data===null||data===void 0?void 0:data.taskEndOn)||"","MM dd,yy")})]}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:style_module.row,children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rowTitle,children:/*#__PURE__*/(0,jsx_runtime.jsx)("b",{children:"Project title"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rowValue,children:data===null||data===void 0?void 0:data.Project.title})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.row,children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:style_module.rowTitle,children:/*#__PURE__*/(0,jsx_runtime.jsx)("b",{children:"Project ID"})})})]})]})]})]})});};

/***/ }),

/***/ 44424:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
// extracted by mini-css-extract-plugin
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({"user_popover":"styles_user_popover__kn6oo","user_popover_background":"styles_user_popover_background__uweW7","user_popover_content":"styles_user_popover_content__q7QzU","user_popover_content_name":"styles_user_popover_content_name__rvcS5","user_popover_content_email":"styles_user_popover_content_email__XUiWY","user_popover_content_phone":"styles_user_popover_content_phone__s4vbT","user_popover_content_extra":"styles_user_popover_content_extra__ZmL8F","selectable_dropdown":"styles_selectable_dropdown__41MAI"});

/***/ }),

/***/ 17640:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 45618:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 97492:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 31815:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 89052:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 82787:
/***/ (() => {

/* (ignored) */

/***/ })

}]);