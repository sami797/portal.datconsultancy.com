(self["webpackChunkdat_projects"] = self["webpackChunkdat_projects"] || []).push([[3190],{

/***/ 38714:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   A: () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9950);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(2557);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(52765);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(57811);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(80737);
/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(73022);
/* harmony import */ var _styles_module_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(28662);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(44414);
const MoreCustomFilters=_ref=>{let{options,onChange,value}=_ref;const[visible,setVisible]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);const overlay=/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A,{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"pa-3",children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .A.Group,{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.checkboxGroup,options:options,onChange:value=>{onChange(value);setVisible(false);},value:value})})});return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(antd__WEBPACK_IMPORTED_MODULE_5__/* ["default"] */ .A,{trigger:['click'],open:visible,onOpenChange:visible=>setVisible(visible),dropdownRender:()=>overlay,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:_styles_module_scss__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.label,children:/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(antd__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A,{children:[/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("span",{children:"More Filters"}),/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_7__/* ["default"] */ .A,{})]})})})});};/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MoreCustomFilters);

/***/ }),

/***/ 44394:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   d: () => (/* binding */ Switch)
/* harmony export */ });
/* harmony import */ var C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(89379);
/* harmony import */ var C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(80045);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(92759);
/* harmony import */ var antd__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(25933);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(9950);
/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(38266);
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(44414);
const _excluded=["onChange","checked","recordId","allowChange"];const Switch=_ref=>{let{onChange,checked,recordId,allowChange=true}=_ref,rest=(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)(_ref,_excluded);const[buttonState,setButtonState]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({loading:false,checked:false});const onSwitchChange=checked=>{if(allowChange===true){setButtonState((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A)({},buttonState),{},{loading:true}));onChange(checked,recordId,rest).then(res=>{setButtonState((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A)({},buttonState),{},{checked:checked,loading:false}));antd__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Ay.success(res.data.message);}).catch(err=>{setButtonState((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A)({},buttonState),{},{loading:false}));let serverErrors=(0,_helpers__WEBPACK_IMPORTED_MODULE_5__/* .errorHandler */ .r)(err);if(typeof serverErrors.message==="string"){antd__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Ay.error(serverErrors.message);}else{antd__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Ay.error("Something went wrong");}});}else{antd__WEBPACK_IMPORTED_MODULE_4__/* ["default"] */ .Ay.error("You don't have permission to change this record, please contact your admin.");}};(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{setButtonState((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A)((0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__/* ["default"] */ .A)({},buttonState),{},{checked:checked}));},[checked]);return/*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(antd__WEBPACK_IMPORTED_MODULE_6__/* ["default"] */ .A,{checked:buttonState.checked,onChange:onSwitchChange,loading:buttonState.loading});};

/***/ }),

/***/ 22418:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "default": () => (/* binding */ Employees)
});

// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js
var objectSpread2 = __webpack_require__(89379);
// EXTERNAL MODULE: ./node_modules/react/index.js
var react = __webpack_require__(9950);
// EXTERNAL MODULE: ./src/Components/Templates/Layout/index.tsx + 28 modules
var Layout = __webpack_require__(81168);
// EXTERNAL MODULE: ./src/Components/Organisms/Dashboard/Employees/modal.tsx + 8 modules
var modal = __webpack_require__(54316);
// EXTERNAL MODULE: ./node_modules/antd/es/typography/index.js + 15 modules
var typography = __webpack_require__(30377);
// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 1 modules
var message = __webpack_require__(92759);
// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/index.js
var tooltip = __webpack_require__(81541);
// EXTERNAL MODULE: ./node_modules/antd/es/popconfirm/index.js + 1 modules
var popconfirm = __webpack_require__(56231);
// EXTERNAL MODULE: ./node_modules/antd/es/dropdown/index.js
var dropdown = __webpack_require__(57811);
// EXTERNAL MODULE: ./node_modules/antd/es/card/index.js + 3 modules
var card = __webpack_require__(2557);
// EXTERNAL MODULE: ./node_modules/antd/es/space/index.js + 1 modules
var space = __webpack_require__(80737);
// EXTERNAL MODULE: ./node_modules/antd/es/image/index.js + 13 modules
var es_image = __webpack_require__(9206);
// EXTERNAL MODULE: ./node_modules/antd/es/table/index.js + 96 modules
var table = __webpack_require__(41821);
// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/extends.js
var esm_extends = __webpack_require__(58168);
;// ./node_modules/@ant-design/icons-svg/es/asn/AppstoreAddOutlined.js
// This icon file is generated automatically.
var AppstoreAddOutlined = {
  "icon": {
    "tag": "svg",
    "attrs": {
      "viewBox": "64 64 896 896",
      "focusable": "false"
    },
    "children": [{
      "tag": "defs",
      "attrs": {},
      "children": [{
        "tag": "style",
        "attrs": {}
      }]
    }, {
      "tag": "path",
      "attrs": {
        "d": "M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zm52 132H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200zM424 712H296V584c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v128H104c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h128v128c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V776h128c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"
      }
    }]
  },
  "name": "appstore-add",
  "theme": "outlined"
};
/* harmony default export */ const asn_AppstoreAddOutlined = (AppstoreAddOutlined);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/components/AntdIcon.js + 5 modules
var AntdIcon = __webpack_require__(61187);
;// ./node_modules/@ant-design/icons/es/icons/AppstoreAddOutlined.js

// GENERATE BY ./scripts/generate.ts
// DON NOT EDIT IT MANUALLY




var AppstoreAddOutlined_AppstoreAddOutlined = function AppstoreAddOutlined(props, ref) {
  return /*#__PURE__*/react.createElement(AntdIcon/* default */.A, (0,esm_extends/* default */.A)({}, props, {
    ref: ref,
    icon: asn_AppstoreAddOutlined
  }));
};
if (false) {}
/* harmony default export */ const icons_AppstoreAddOutlined = (/*#__PURE__*/react.forwardRef(AppstoreAddOutlined_AppstoreAddOutlined));
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/DeleteOutlined.js
var DeleteOutlined = __webpack_require__(78433);
// EXTERNAL MODULE: ./src/Components/Atoms/index.tsx + 12 modules
var Atoms = __webpack_require__(9394);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/DownOutlined.js
var DownOutlined = __webpack_require__(73022);
// EXTERNAL MODULE: ./src/Components/Organisms/Common/styles.module.scss
var styles_module = __webpack_require__(96019);
;// ./src/Components/Organisms/Dashboard/Employees/styles.module.scss
// extracted by mini-css-extract-plugin
/* harmony default export */ const Employees_styles_module = ({"forgotPasswordImg":"styles_forgotPasswordImg__v9mGS","dropdown":"styles_dropdown__rrqJP","overlay":"styles_overlay__6zD4l","overlay_item":"styles_overlay_item__+RjaZ","disabledButton":"styles_disabledButton__qxo58","profileScoreWrap":"styles_profileScoreWrap__kAskb","scoreOverlay":"styles_scoreOverlay__R8YQL","cardWrap":"styles_cardWrap__GliWj","card":"styles_card__MJR+4","card__green":"styles_card__green__Qg8vy","card__info":"styles_card__info__wotW+"});
// EXTERNAL MODULE: ./src/helpers/constants.ts
var constants = __webpack_require__(65944);
// EXTERNAL MODULE: ./src/Modules/User/index.ts
var User = __webpack_require__(47645);
// EXTERNAL MODULE: ./node_modules/react-redux/es/index.js + 21 modules
var es = __webpack_require__(98341);
// EXTERNAL MODULE: ./src/Components/Icons/index.tsx + 58 modules
var Icons = __webpack_require__(63668);
// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 7 modules
var es_modal = __webpack_require__(32645);
// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js
var es_button = __webpack_require__(48538);
// EXTERNAL MODULE: ./node_modules/antd/es/radio/index.js + 4 modules
var es_radio = __webpack_require__(17811);
// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 18 modules
var es_form = __webpack_require__(10678);
// EXTERNAL MODULE: ./src/helpers/common.ts
var common = __webpack_require__(88132);
// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js
var jsx_runtime = __webpack_require__(44414);
;// ./src/Components/Organisms/Dashboard/Employees/ResetPassword/index.tsx
const{Paragraph}=typography/* default */.A;const ResetPasswordModal=_ref=>{let{isOpen,handleCancel,record,updateUser}=_ref;const[selectedOption,setSelectedOption]=(0,react.useState)("auto");const[step,setStep]=(0,react.useState)("select");const[password,setPassword]=(0,react.useState)("");const[showPassword,setShowPassword]=(0,react.useState)(false);const userModule=(0,react.useMemo)(()=>new User/* UserModule */.U(),[]);const onResetClick=()=>{if(updateUser===true){const generatedPassword=(0,common/* generatePassword */.bk)();if(selectedOption==="auto"){setPassword(generatedPassword);}setStep("next");userModule.updateRecord({password:selectedOption==="auto"?generatedPassword:password},record===null||record===void 0?void 0:record.id).then(res=>{setStep("next");}).catch(err=>{var _err$response,_err$response$data;const msg=(err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||"Something went wrong";message/* default */.Ay.error(msg);});}else{const msg="You don't have permission to reset password for\n             ".concat(record===null||record===void 0?void 0:record.firstName," ").concat(record===null||record===void 0?void 0:record.lastName,", please contact\n             your administrator");message/* default */.Ay.error(msg);}};return/*#__PURE__*/(0,jsx_runtime.jsx)(es_modal/* default */.A,{title:"Reset password for ".concat(record===null||record===void 0?void 0:record.firstName," ").concat(record===null||record===void 0?void 0:record.lastName),visible:isOpen,onCancel:handleCancel,footer:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{className:"rounded-5",type:"text",onClick:handleCancel,children:"Cancel"}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{className:"ml-2 rounded-5",type:"primary",onClick:()=>step==="select"?onResetClick():handleCancel(),children:step==="select"?"Reset":"Done"})]}),children:step==="select"?/*#__PURE__*/(0,jsx_runtime.jsxs)(es_radio/* default.Group */.Ay.Group,{name:"password-reset-options",style:{display:"flex",flexDirection:"column"},onChange:e=>setSelectedOption(e.target.value),defaultValue:selectedOption,children:[/*#__PURE__*/(0,jsx_runtime.jsxs)(es_radio/* default */.Ay,{value:"auto",className:"font-size-md color-dark-main",children:["Automatically generate a password",/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"font-size-sm color-dark-sub mb-0",children:"You will be able to view and copy the password in the next step."})]}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_radio/* default */.Ay,{value:"create",className:"font-size-md color-dark-main mt-2",children:"Create password"}),selectedOption==="create"&&/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:"mt-1 ml-6",children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A,{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{label:"Password",placeHolder:"Enter password",type:"password",className:"mb-2",onChange:e=>setPassword(e.target.value)})})})]}):/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:"/images/forgot-password.svg",className:Employees_styles_module.forgotPasswordImg,alt:"forgot-password"}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-sub",size:"md",weight:"semi",className:"text-center my-4",children:"Password has been reset successfully."}),/*#__PURE__*/(0,jsx_runtime.jsxs)(Paragraph,{copyable:{text:password},className:"font-size-md color-dark-main text-center mb-0",children:["Password: ","",/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"font-weight-bold",children:showPassword?password:"********"})]}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"font-size-sm color-dark-sub text-center mb-0 mt-2 cursor-pointer",onClick:()=>setShowPassword(!showPassword),children:showPassword?"Hide Password":"Show Password"})]})});};/* harmony default export */ const ResetPassword = (ResetPasswordModal);
// EXTERNAL MODULE: ./src/Modules/Auth/index.tsx
var Auth = __webpack_require__(64076);
// EXTERNAL MODULE: ./src/services/tokenService.ts
var tokenService = __webpack_require__(92966);
;// ./src/Components/Organisms/Dashboard/Employees/LoginAs/index.tsx
const LoginAsModal=_ref=>{let{isOpen,handleCancel,record,loginAsOtherUser}=_ref;const authModule=(0,react.useMemo)(()=>new Auth/* AuthModule */.r(),[]);const onContinueClick=()=>{if(loginAsOtherUser===true){authModule.loginAsUser(record===null||record===void 0?void 0:record.id).then(res=>{var _res$data;const data=res===null||res===void 0?void 0:(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.data;if(data!==null&&data!==void 0&&data.token){var _data$token,_data$token2,_res$data$data;const msg="Login as ".concat(record===null||record===void 0?void 0:record.firstName," ").concat(record===null||record===void 0?void 0:record.lastName," successfully");// Get current data from local storage
const currentUser=tokenService/* default */.A.getUserData();const currentAccessToken=tokenService/* default */.A.getLocalAccessToken()||"";const currentRefreshToken=tokenService/* default */.A.getLocalRefreshToken()||"";// Save old data in temp variable in local storage
tokenService/* default */.A.saveTempUserData(currentUser);tokenService/* default */.A.updateTempAccessToken(currentAccessToken);tokenService/* default */.A.updateTempRefreshToken(currentRefreshToken);// Update user data and token in local storage with new data
tokenService/* default */.A.updateLocalAccessToken(data===null||data===void 0?void 0:(_data$token=data.token)===null||_data$token===void 0?void 0:_data$token.access_token);tokenService/* default */.A.updateLocalRefreshToken(data===null||data===void 0?void 0:(_data$token2=data.token)===null||_data$token2===void 0?void 0:_data$token2.refresh_token);tokenService/* default */.A.saveUserData((_res$data$data=res.data.data)===null||_res$data$data===void 0?void 0:_res$data$data.userData);message/* default */.Ay.success(msg);handleCancel();// Redirect to dashboard
window.location.href='/';}}).catch(err=>{var _err$response,_err$response$data;const errorMessage=(err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||"Login as ".concat(record===null||record===void 0?void 0:record.firstName," ").concat(record===null||record===void 0?void 0:record.lastName," failed");message/* default */.Ay.error(errorMessage);});}else{const msg="You don't have permission to login as \n            ".concat(record===null||record===void 0?void 0:record.firstName," ").concat(record===null||record===void 0?void 0:record.lastName,",\n             please contact your administrator");message/* default */.Ay.error(msg);}};return/*#__PURE__*/(0,jsx_runtime.jsx)(es_modal/* default */.A,{title:"Login as ".concat(record===null||record===void 0?void 0:record.firstName," ").concat(record===null||record===void 0?void 0:record.lastName),visible:isOpen,onCancel:handleCancel,footer:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{className:"rounded-5",type:"text",onClick:handleCancel,children:"Cancel"}),/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.A,{className:"ml-2 rounded-5",type:"primary",onClick:()=>onContinueClick(),children:"Continue"})]}),children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-main",size:"normal",className:"text-center my-4",children:"When logging in as ".concat(record===null||record===void 0?void 0:record.firstName," ").concat(record===null||record===void 0?void 0:record.lastName,",\n                    we'll send them an email to let them know you've logged in\n                    as them. including your name and email address.")})});};/* harmony default export */ const LoginAs = (LoginAsModal);
// EXTERNAL MODULE: ./src/helpers/commonEnums.ts
var commonEnums = __webpack_require__(2360);
// EXTERNAL MODULE: ./src/helpers/dateHandler.ts
var dateHandler = __webpack_require__(98933);
// EXTERNAL MODULE: ./node_modules/antd/es/skeleton/index.js + 11 modules
var skeleton = __webpack_require__(46005);
// EXTERNAL MODULE: ./node_modules/antd/es/divider/index.js
var divider = __webpack_require__(40895);
// EXTERNAL MODULE: ./node_modules/antd/es/avatar/index.js + 3 modules
var avatar = __webpack_require__(75871);
// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/UserOutlined.js + 1 modules
var UserOutlined = __webpack_require__(79378);
// EXTERNAL MODULE: ./src/helpers/useDebounce.ts
var useDebounce = __webpack_require__(28173);
;// ./src/Components/Organisms/Dashboard/Employees/manager.tsx
const UserDropDown=props=>{const{Manager,users,loading,permissions:{updateUser},getUsers,userId,reloadTableData}=props;const[messageApi,contextHolder]=message/* default */.Ay.useMessage();const module=(0,react.useMemo)(()=>new User/* UserModule */.U(),[]);const[searchTerm,setSearchTerm]=(0,react.useState)("");const debouncedSearchTerm=(0,useDebounce/* useDebounce */.d)(searchTerm,500);const openMessage=data=>{messageApi.open({key:data.key,type:data.type,content:data.content,duration:data.type==="loading"?0:2});};// controls the dropdown visibility
const[visible,setVisible]=(0,react.useState)(false);// handle dropdown menu visibility change event
const onVisibleChange=flag=>setVisible(flag);(0,react.useEffect)(()=>{if(debouncedSearchTerm){getUsers({name:debouncedSearchTerm});}},[debouncedSearchTerm]);const onUserChange=managerId=>{if(managerId&&updateUser===true){openMessage({key:"update",type:"loading",content:"Updating..."});module.updateRecord({managerId:managerId},userId).then(res=>{var _res$data;if(res!==null&&res!==void 0&&(_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.data){var _res$data2;openMessage({key:"update",type:"success",content:res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.message});setVisible(!visible);reloadTableData();}}).catch(err=>{const errorMessage=(0,common/* handleError */.H4)(err);openMessage({key:"update",type:"error",content:errorMessage||"Something went wrong"});});}else{openMessage({key:"update",type:"error",content:"You don't have permission to assign enquiry"});}};const overlay=/*#__PURE__*/(0,jsx_runtime.jsxs)(card/* default */.A,{className:"".concat(Employees_styles_module.overlay," pa-2"),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomInput */.wi,{label:"Assign this employee to",placeHolder:"Search User...",value:searchTerm,size:"w100",onChange:e=>{const{value}=e.target;searchTerm!==value&&setSearchTerm(value);},icon:/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:"/images/searchIcon.svg",alt:"Search Icon"})}),loading?/*#__PURE__*/(0,jsx_runtime.jsx)(skeleton/* default */.A,{active:true,className:"mt-1"}):/*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(users===null||users===void 0?void 0:users.length)>0?/*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:users===null||users===void 0?void 0:users.map(user=>{return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:Employees_styles_module.overlay_item,onClick:()=>{if((Manager===null||Manager===void 0?void 0:Manager.id)!==(user===null||user===void 0?void 0:user.id)&&updateUser===true){const selectedUser=Number(user===null||user===void 0?void 0:user.id);onUserChange(selectedUser);}},children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("span",{className:(Manager===null||Manager===void 0?void 0:Manager.id)===(user===null||user===void 0?void 0:user.id)?Employees_styles_module.disabledButton:"",children:[user===null||user===void 0?void 0:user.firstName," ",user===null||user===void 0?void 0:user.lastName," - ","(".concat(user===null||user===void 0?void 0:user.email,")")]}),/*#__PURE__*/(0,jsx_runtime.jsx)(divider/* default */.A,{className:"my-0"})]},"users-".concat(user===null||user===void 0?void 0:user.id));})}):/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:Employees_styles_module.overlay_item_noData,children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomEmpty */.ZX,{description:debouncedSearchTerm?"No results found, please modify your search term":"Please search for a manager to assign this employee to"})})})]});return/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[contextHolder,/*#__PURE__*/(0,jsx_runtime.jsx)(dropdown/* default */.A,{dropdownRender:()=>overlay,trigger:updateUser===true?["click"]:[],open:updateUser===true?visible:false,onOpenChange:onVisibleChange,className:Employees_styles_module.dropdown,children:/*#__PURE__*/(0,jsx_runtime.jsxs)(space/* default */.A,{children:[/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{style:{display:"flex",alignItems:"center",width:"100%",cursor:updateUser===true?"pointer":"default"},children:[/*#__PURE__*/(0,jsx_runtime.jsx)(avatar/* default */.A,{src:"".concat(constants/* RESOURCE_BASE_URL */.to).concat(Manager===null||Manager===void 0?void 0:Manager.profile),icon:/*#__PURE__*/(0,jsx_runtime.jsx)(UserOutlined/* default */.A,{}),size:30,style:{border:'0.5px solid var(--color-border)'}}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-sub",size:"sm",className:"ml-1",children:"".concat(Manager!==null&&Manager!==void 0&&Manager.firstName&&Manager!==null&&Manager!==void 0&&Manager.lastName?"".concat(Manager===null||Manager===void 0?void 0:Manager.firstName," ").concat(Manager===null||Manager===void 0?void 0:Manager.lastName):"Assign To")})]}),updateUser===true&&/*#__PURE__*/(0,jsx_runtime.jsx)(DownOutlined/* default */.A,{})]})})]});};/* harmony default export */ const manager = (UserDropDown);
// EXTERNAL MODULE: ./src/Components/Atoms/Switch/index.tsx
var Switch = __webpack_require__(44394);
;// ./src/Components/Organisms/Dashboard/Employees/table-columns.tsx
const{Paragraph: table_columns_Paragraph}=typography/* default */.A;const ActionComponent=props=>{const{record,onEditIconClick,reloadTableData,onLoginAsClick,onPasswordResetClick,permissions:{deleteUser,updateUser,loginAsOtherUser}}=props;const{loggedInUserData}=(0,es/* useSelector */.d4)(state=>state.usersReducer);const userData=loggedInUserData===null||loggedInUserData===void 0?void 0:loggedInUserData.data;const[actionState,setActionState]=(0,react.useState)({confirmLoading:false,openPopConfirm:false});const module=(0,react.useMemo)(()=>new User/* UserModule */.U(),[]);const handleDelete=()=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{confirmLoading:true}));if(deleteUser===false){message/* default */.Ay.error("You don't have permission to delete this user, please contact your admin.");setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false}));return;}module.deleteRecord(record.id).then(_res=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false,confirmLoading:false}));reloadTableData();}).catch(_err=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{confirmLoading:false}));});};const showPopconfirm=()=>{setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:true}));};const items=[{key:'1',label:updateUser&&/*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.A,{title:"Edit",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"".concat(styles_module/* default */.A.actions," ").concat(Employees_styles_module.overlay_card_item),onClick:()=>onEditIconClick(record),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:"/images/editicon.svg",alt:""})}),"Edit"]})})},{key:'2',label:updateUser===true?/*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:!(commonEnums/* SuperAdminEmails */.UI!==null&&commonEnums/* SuperAdminEmails */.UI!==void 0&&commonEnums/* SuperAdminEmails */.UI.includes(record.email))?/*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.A,{title:"Reset Password for this user.",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"".concat(styles_module/* default */.A.actions," ").concat(Employees_styles_module.overlay_card_item),onClick:()=>onPasswordResetClick(record),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Icons/* PasswordUnlock */.gj,{color:"#fff",width:18,height:18})}),"Reset Password"]})}):/*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.A,{title:"You cannot reset password for super admin.",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"".concat(styles_module/* default */.A.actions," ").concat(Employees_styles_module.overlay_card_item),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Icons/* PasswordUnlock */.gj,{color:"#fff",width:18,height:18,style:{cursor:"not-allowed",opacity:"0.6"}})}),"Reset Password"]})})}):null},{key:'3',label:updateUser===true?/*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.A,{title:"Allocate resources to this user.",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"".concat(styles_module/* default */.A.actions," ").concat(Employees_styles_module.overlay_card_item),onClick:()=>onEditIconClick(record,'4'),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(icons_AppstoreAddOutlined,{style:{color:"#fff"},width:18,height:18})}),"Allocate Resources"]})}):null},{key:'4',label:loginAsOtherUser===true&&/*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.A,{title:"Login as ".concat(record===null||record===void 0?void 0:record.firstName," ").concat(record===null||record===void 0?void 0:record.lastName),placement:"left",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"".concat(styles_module/* default */.A.actions," ").concat(Employees_styles_module.overlay_card_item),onClick:()=>onLoginAsClick(record),children:[/*#__PURE__*/(0,jsx_runtime.jsx)("span",{children:/*#__PURE__*/(0,jsx_runtime.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",color:"#fff",width:20,height:20,children:/*#__PURE__*/(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9"})})}),"Login as ",record===null||record===void 0?void 0:record.firstName," ",record===null||record===void 0?void 0:record.lastName]})})},{key:'5',label:deleteUser&&(userData===null||userData===void 0?void 0:userData.id)===(record===null||record===void 0?void 0:record.id)?/*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.A,{title:"You cannot delete yourself.",children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"".concat(styles_module/* default */.A.actions," ").concat(Employees_styles_module.overlay_card_item),children:[/*#__PURE__*/(0,jsx_runtime.jsx)(DeleteOutlined/* default */.A,{className:styles_module/* default */.A.bg__red,style:{cursor:"not-allowed",opacity:"0.2"}}),"Delete"]})}):/*#__PURE__*/(0,jsx_runtime.jsx)(popconfirm/* default */.A,{open:actionState.openPopConfirm,placement:"top",title:"Are you sure?",onConfirm:handleDelete,onCancel:()=>setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false})),okButtonProps:{loading:actionState.confirmLoading},okText:"Yes",cancelText:"No",onOpenChange:visible=>{if(!visible){setActionState((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},actionState),{},{openPopConfirm:false}));}},children:/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"".concat(styles_module/* default */.A.actions," ").concat(Employees_styles_module.overlay_card_item),onClick:showPopconfirm,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(DeleteOutlined/* default */.A,{className:styles_module/* default */.A.bg__red}),"Delete"]})})}];return/*#__PURE__*/(0,jsx_runtime.jsx)(dropdown/* default */.A,{menu:{items},trigger:["click"],children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{style:{cursor:"pointer",padding:'5px'},children:/*#__PURE__*/(0,jsx_runtime.jsx)(Icons/* MoreIcon */.Z4,{height:25,width:25,color:"#7e869a"})})});};const statusColors={1:'#00A884',2:"#f50"};const StatusComponent=props=>{const{record,status,reloadTableData,permissions:{updateUser}}=props;const[messageApi,contextHolder]=message/* default */.Ay.useMessage();const module=(0,react.useMemo)(()=>new User/* UserModule */.U(),[]);const openMessage=data=>{messageApi.open({key:data.key,type:data.type,content:data.content,duration:data.type==="loading"?0:2});};// controls the dropdown visibility
const[visible,setVisible]=(0,react.useState)(false);// handle dropdown menu visibility change event
const onVisibleChange=flag=>{setVisible(flag);};const onStatusChange=status=>{if(record!==null&&record!==void 0&&record.id&&updateUser===true){openMessage({key:"update",type:"loading",content:"Updating..."});module.updateRecord({status:status},record===null||record===void 0?void 0:record.id).then(res=>{var _res$data;if(res!==null&&res!==void 0&&(_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.data){var _res$data2;openMessage({key:"update",type:"success",content:res===null||res===void 0?void 0:(_res$data2=res.data)===null||_res$data2===void 0?void 0:_res$data2.message});setVisible(!visible);reloadTableData();}}).catch(err=>{var _err$response,_err$response$data;openMessage({key:"update",type:"error",content:err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message});});}else{openMessage({key:"update",type:"error",content:"You don't have permission to change status"});}};const overlay=/*#__PURE__*/(0,jsx_runtime.jsxs)(card/* default */.A,{className:"".concat(Employees_styles_module.overlay," pa-2"),children:[contextHolder,Object.entries(commonEnums/* UserStatus */._O).map(_ref=>{let[key,value]=_ref;return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:Employees_styles_module.overlay_item,onClick:()=>{if(status!==Number(value)&&updateUser===true){const selectedStatus=Number(value);onStatusChange(selectedStatus);}},children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:status===Number(value)?Employees_styles_module.disabledButton:"",children:(0,common/* capitalize */.ZH)(key)})},"user-status-".concat(key));})]});return/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(dropdown/* default */.A,{dropdownRender:()=>overlay,trigger:updateUser===true?["click"]:[],open:updateUser===true?visible:false,onOpenChange:onVisibleChange,className:Employees_styles_module.dropdown,children:/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)(space/* default */.A,{style:{backgroundColor:statusColors[status],color:"#fff",padding:"0.2rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.8rem",display:"flex",width:"100%",justifyContent:"space-between"},children:[Object.entries(commonEnums/* UserStatus */._O).map(_ref2=>{let[key,value]=_ref2;return value===String(status)&&(0,common/* capitalize */.ZH)(key);}),updateUser===true&&/*#__PURE__*/(0,jsx_runtime.jsx)(DownOutlined/* default */.A,{})]})})})});};function TableComponent(props){const{tableData,tableLoading,onEditIconClick,reloadTableData,onManageRolesClick,meta}=props;const{userPermissions}=(0,es/* useSelector */.d4)(state=>state.usersReducer);const permissions=userPermissions;const{updateUser,loginAsOtherUser}=permissions;const userModule=(0,react.useMemo)(()=>new User/* UserModule */.U(),[]);const[users,setUsers]=(0,react.useState)({data:[],loading:false});const user=tokenService/* default */.A.getUserData();const getUsers=query=>{var _query;setUsers(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:true}));query={name:((_query=query)===null||_query===void 0?void 0:_query.name)||''};userModule.getAllRecords(query).then(res=>{var _res$data3;const data=res===null||res===void 0?void 0:(_res$data3=res.data)===null||_res$data3===void 0?void 0:_res$data3.data;setUsers({data:data,loading:false});}).catch(err=>{var _err$response2,_err$response2$data;message/* default */.Ay.error((err===null||err===void 0?void 0:(_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||"Something went wrong");setUsers(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));});};const onEnableRemoteCheckinChange=(checked,recordId)=>{return userModule.updateRecord({enableRemoteCheckin:checked},recordId);};// controls the password reset modal visibility
const[passwordResetModal,setPasswordResetModal]=(0,react.useState)({isOpen:false,record:undefined});const onPasswordResetClick=record=>{if(updateUser===true){setPasswordResetModal({isOpen:true,record:record});}else{message/* default */.Ay.error("You don't have permission to reset password for ".concat(record===null||record===void 0?void 0:record.firstName," ").concat(record===null||record===void 0?void 0:record.lastName));return;}};// controls the login as modal visibility
const[loginAsModal,setLoginAsModal]=(0,react.useState)({isOpen:false,record:undefined});const onLoginAsClick=record=>{if(loginAsOtherUser===true){setLoginAsModal({isOpen:true,record:record});(0,common/* cleanup */.tP)();}else{message/* default */.Ay.error("You don't have permission to login as ".concat(record===null||record===void 0?void 0:record.firstName," ").concat(record===null||record===void 0?void 0:record.lastName));return;}};const columns=[{title:"S.No",dataIndex:"index",key:"index",render:(_text,_record,index)=>/*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,common/* getTableRowNumber */.YO)(index,meta)}),width:"5%"},{title:"Name",dataIndex:"name",key:"name",render:(_text,record)=>/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{style:{display:"flex"},children:/*#__PURE__*/(0,jsx_runtime.jsx)("a",{href:user.id===record.id||permissions!==null&&permissions!==void 0&&permissions.manageAllUser?"/employees/"+record.id:undefined,children:/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-main",size:"sm",weight:"bold",className:"my-auto mr-1",children:"".concat(record.firstName," ").concat(record.lastName)})})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(table_columns_Paragraph,{ellipsis:{rows:1,expandable:false},className:"my-0 color-dark-sub",children:/*#__PURE__*/(0,jsx_runtime.jsx)("a",{href:"mailto:".concat(record.email),className:"font-size-xs",children:/*#__PURE__*/(0,jsx_runtime.jsx)("span",{className:"color-dark-sub",children:record.email})})})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:record.phone?/*#__PURE__*/(0,jsx_runtime.jsx)("a",{href:"tel:".concat(record.phone),className:"color-dark-sub font-size-xs",children:record.phone!==null&&record.phoneCode!==null?"+"+(record===null||record===void 0?void 0:record.phoneCode)+record.phone:"N/A"}):/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-sub",size:"xs",children:"N/A"})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsxs)(table_columns_Paragraph,{className:"font-size-xs color-dark-sub mb-0",title:record.id.toString(),children:["Employee ID: ",record.id]})}),record.addedDate&&/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"d-flex mt-2",children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Icons/* CalenderIcon */.e$,{className:"mr-2"}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-sub",size:"sm",children:"".concat((0,dateHandler/* convertDate */.ic)(record.addedDate,"dd MM yy"))})]})]})},{title:"Profile",dataIndex:"profile",key:"profile",render:profile=>profile?/*#__PURE__*/(0,jsx_runtime.jsx)(es_image/* default */.A,{width:80,height:80,src:"".concat(constants/* RESOURCE_BASE_URL */.to).concat(profile),preview:false,rootClassName:"object-fit-cover",style:{borderRadius:"50%",border:'0.5px solid var(--color-border)'}}):/*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})},{title:"Designation",dataIndex:"designation",key:"designation",render:designation=>/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Typography */.o5,{color:"dark-sub",size:"xs",children:designation||""})}];if(permissions.manageAllUser){columns.push({title:"Manager",dataIndex:"Manager",key:"Manager",render:(Manager,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(manager,{Manager:Manager,userId:record.id,permissions:permissions,loading:users.loading,users:users.data,getUsers:getUsers,reloadTableData:reloadTableData})// width: "250px",
},{title:"Role",dataIndex:"role",key:"role",render:(_text,record)=>{var _record$userRole;return/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(table_columns_Paragraph,{ellipsis:{rows:1,expandable:false},className:"my-0 color-dark-sub",children:/*#__PURE__*/(0,jsx_runtime.jsx)("ul",{style:{listStyle:"none",padding:0},children:(_record$userRole=record.userRole)===null||_record$userRole===void 0?void 0:_record$userRole.map(item=>/*#__PURE__*/(0,jsx_runtime.jsx)("li",{className:"font-size-xs ml-0",children:item.Role.title}))})}),/*#__PURE__*/(0,jsx_runtime.jsx)("p",{className:"color-dark-main font-weight-bold font-size-sm mb-0 ml-1 cursor-pointer",onClick:()=>onManageRolesClick(record),children:"Manage Roles"})]});}},{title:"Remote Checkin",dataIndex:"enableRemoteCheckin",key:"enableRemoteCheckin",render:(checked,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(Switch/* Switch */.d,{checked:checked,onChange:onEnableRemoteCheckinChange,recordId:record.id})},{title:"Status",dataIndex:"status",key:"status",render:(status,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(StatusComponent,{status:status,record:record,reloadTableData:reloadTableData,permissions:permissions}),width:"150px"});}if(permissions!==null&&permissions!==void 0&&permissions.manageAllUser||permissions!==null&&permissions!==void 0&&permissions.deleteUser){columns.push({title:"Actions",dataIndex:"actions",key:"actions",render:(_text,record)=>/*#__PURE__*/(0,jsx_runtime.jsx)(ActionComponent,{record:record,onEditIconClick:onEditIconClick,reloadTableData:reloadTableData,onPasswordResetClick:onPasswordResetClick,onLoginAsClick:onLoginAsClick,permissions:permissions}),width:"7.5%"});}return/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{className:styles_module/* default */.A.antdTableWrapper,children:/*#__PURE__*/(0,jsx_runtime.jsx)(table/* default */.A,{sticky:true,dataSource:tableData,columns:columns,pagination:false,scroll:{x:991},loading:tableLoading,rowKey:record=>"site-user-".concat(record.id)})}),passwordResetModal.isOpen&&/*#__PURE__*/(0,jsx_runtime.jsx)(ResetPassword,{isOpen:passwordResetModal.isOpen,handleCancel:()=>setPasswordResetModal((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},passwordResetModal),{},{isOpen:false})),record:passwordResetModal.record,updateUser:updateUser}),loginAsModal.isOpen&&/*#__PURE__*/(0,jsx_runtime.jsx)(LoginAs,{isOpen:loginAsModal.isOpen,handleCancel:()=>setLoginAsModal((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},loginAsModal),{},{isOpen:false})),record:loginAsModal.record,loginAsOtherUser:loginAsOtherUser})]});}
// EXTERNAL MODULE: ./src/Components/Atoms/Input/index.tsx + 2 modules
var Input = __webpack_require__(58516);
;// ./src/Modules/User/types.ts
let UserStatus=/*#__PURE__*/function(UserStatus){UserStatus[UserStatus["active"]=1]="active";UserStatus[UserStatus["suspended"]=2]="suspended";return UserStatus;}({});/** Active User Types */ // User Response Types
// Active User Response Types
// EXTERNAL MODULE: ./src/Components/Atoms/CustomFilter/index.tsx
var CustomFilter = __webpack_require__(74601);
// EXTERNAL MODULE: ./src/Components/Atoms/CustomFilter/more.tsx
var more = __webpack_require__(38714);
// EXTERNAL MODULE: ./src/helpers/options.ts
var options = __webpack_require__(59179);
// EXTERNAL MODULE: ./src/Modules/Department/index.ts
var Department = __webpack_require__(98924);
// EXTERNAL MODULE: ./src/Modules/Organization/index.ts
var Organization = __webpack_require__(42361);
// EXTERNAL MODULE: ./src/hooks/index.ts + 5 modules
var hooks = __webpack_require__(91970);
// EXTERNAL MODULE: ./src/Modules/Roles/index.ts
var Roles = __webpack_require__(32027);
;// ./src/Components/Organisms/Dashboard/Employees/filters/hooks.tsx
/** A custom hook to search for Employees and Roles */function useSearch(getAllRecords){const[state,setState]=(0,react.useState)({data:[],loading:false});const search=(0,react.useCallback)(params=>{if(params.name!==undefined||params.title!==undefined){setState(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:true}));getAllRecords(params).then(res=>{const{data}=res.data;setState(prev=>{// if the data is already present in the state, then don't add it again
const filteredData=data===null||data===void 0?void 0:data.filter(item=>{return!(prev!==null&&prev!==void 0&&prev.data.find(prevItem=>(prevItem===null||prevItem===void 0?void 0:prevItem.id)===item.id));});// add the new data to the existing data
return{data:[...prev.data,...filteredData],loading:false};});}).catch(err=>{var _err$response,_err$response$data;message/* default */.Ay.error((err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||"Something went wrong");setState(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));});}},[]);return{state,search};}
;// ./src/Components/Organisms/Dashboard/Employees/filters/index.tsx
const Filters=props=>{var _userState$data,_roleState$data;const{selectedFilters,setSelectedFilters,onUpdate}=props;// Name Search
const[searchNameTerm,setSearchNameTerm]=(0,react.useState)(undefined);const debouncedNameTerm=(0,useDebounce/* useDebounce */.d)(searchNameTerm,500);// Multiple Name Search
const[searchMultiNameTerm,setSearchMultiNameTerm]=(0,react.useState)(undefined);const debouncedMultiNameTerm=(0,useDebounce/* useDebounce */.d)(searchMultiNameTerm,500);// Role Search
const[searchRoleTerm,setSearchRoleTerm]=(0,react.useState)(undefined);const debouncedRoleTerm=(0,useDebounce/* useDebounce */.d)(searchRoleTerm,500);const[moreFilters,setMoreFilters]=(0,react.useState)([]);const[reset,setReset]=(0,react.useState)(false);const userModule=(0,react.useMemo)(()=>new User/* UserModule */.U(),[]);const departmentModule=(0,react.useMemo)(()=>new Department/* DepartmentModule */.d(),[]);const orgModule=(0,react.useMemo)(()=>new Organization/* OrganizationModule */.I(),[]);const rolesModule=(0,react.useMemo)(()=>new Roles/* RolesModule */.C(),[]);const{data:deparment}=(0,hooks/* useFetchData */.Gs)({method:departmentModule.getAllPublishedRecords});const{data:orgData}=(0,hooks/* useFetchData */.Gs)({method:orgModule.findPublished});// Usage example
const{state:userState,search:searchUsers}=useSearch(userModule.getAllRecords);const{state:roleState,search:searchRoles}=useSearch(rolesModule.getAllRecords);// const showResetAll = useMemo(() => {
//   return Object.entries(selectedFilters).some(([key, value]) => {
//     if (key === "dateRange" || key === "ids") {
//       return Array.isArray(value) && value.length > 0;
//     }
//     return value !== undefined && value !== "";
//   });
// }, [selectedFilters]);
const onSelected=event=>{const{name,value}=event===null||event===void 0?void 0:event.target;// set the selected value in the state
setSelectedFilters(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{[name]:value}));};const onReset=(0,react.useCallback)((name,value)=>{if(name){setReset(true);setSelectedFilters((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},selectedFilters),{},{[name]:value}));}},[selectedFilters]);const onNameSearch=(0,react.useCallback)(()=>{if(debouncedNameTerm!==undefined){onUpdate({name:debouncedNameTerm});}else{onUpdate({name:undefined});}},[debouncedNameTerm]);// Use Effect to fetch Name Search data
(0,react.useEffect)(()=>{onNameSearch();},[onNameSearch]);(0,react.useEffect)(()=>{searchUsers({name:debouncedMultiNameTerm});},[debouncedMultiNameTerm,searchUsers]);(0,react.useEffect)(()=>{searchRoles({title:debouncedRoleTerm});},[debouncedRoleTerm,searchRoles]);(0,react.useEffect)(()=>{if(reset){onUpdate();}// after 2 seconds set reset clicked state to false
const timer=setTimeout(()=>{setReset(false);},2000);return()=>clearTimeout(timer);},[reset,selectedFilters,onUpdate]);const moreFiltersOptions=[{label:"Email",value:"email"},{label:"Phone",value:"phone"},{label:"Employees",value:"ids"},{label:"Roles",value:"roleIds"}];const moreComponents={email:/*#__PURE__*/(0,jsx_runtime.jsx)(CustomFilter/* default */.A,{type:"email",label:"Email",name:"email",value:selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.email,onChange:onSelected,onReset:()=>onReset("email",""),onUpdate:onUpdate,defaultVisible:moreFilters.includes("email")}),phone:/*#__PURE__*/(0,jsx_runtime.jsx)(CustomFilter/* default */.A,{type:"input",label:"Phone",name:"phone",value:selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.phone,onChange:onSelected,onReset:()=>onReset("phone",""),onUpdate:onUpdate,defaultVisible:moreFilters.includes("phone")}),ids:/*#__PURE__*/(0,jsx_runtime.jsx)(CustomFilter/* default */.A,{type:"multiSelect",label:"Employees",name:"ids",withSearch:true,options:userState===null||userState===void 0?void 0:(_userState$data=userState.data)===null||_userState$data===void 0?void 0:_userState$data.map(item=>({label:"".concat(item.firstName," ").concat(item.lastName),value:"".concat(item.id)})),onChange:value=>setSelectedFilters(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{ids:value})),onReset:()=>{setReset(true);onReset("ids",[]);// Reset search term
setSearchMultiNameTerm("");},defaultVisible:moreFilters.includes("ids"),onUpdate:onUpdate// START: For search
,loading:userState.loading,searchTerm:searchMultiNameTerm||"",onSearch:event=>setSearchMultiNameTerm(event.currentTarget.value)// END: For search
}),roleIds:/*#__PURE__*/(0,jsx_runtime.jsx)(CustomFilter/* default */.A,{type:"multiSelect",label:"Roles",name:"roleIds",withSearch:true,options:roleState===null||roleState===void 0?void 0:(_roleState$data=roleState.data)===null||_roleState$data===void 0?void 0:_roleState$data.map(item=>({label:"".concat(item.title),value:"".concat(item.id)})),onChange:value=>setSelectedFilters(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{roleIds:value})),onReset:()=>{setReset(true);onReset("roleIds",[]);// Reset search term
setSearchRoleTerm("");},defaultVisible:moreFilters.includes("roleIds"),onUpdate:onUpdate// START: For search
,loading:roleState.loading,searchTerm:searchRoleTerm||"",onSearch:event=>setSearchRoleTerm(event.currentTarget.value)// END: For search
})};return/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:"mt-5 align-center",children:[/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(Input/* default */.A,{value:searchNameTerm,onChange:e=>setSearchNameTerm(e.target.value),size:"w100",placeHolder:"Search by Name",icon:/*#__PURE__*/(0,jsx_runtime.jsx)("img",{src:"/images/searchIcon.svg",alt:""})})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(CustomFilter/* default */.A,{type:"radio",label:"Organization",name:"organizationId",options:(orgData===null||orgData===void 0?void 0:orgData.map(option=>({label:option.name,value:String(option.id)})))||[],value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.organizationId),onChange:onSelected,onReset:()=>onReset("organizationId",""),onUpdate:onUpdate})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(CustomFilter/* default */.A,{type:"radio",label:"Department",name:"departmentId",options:(deparment===null||deparment===void 0?void 0:deparment.map(option=>({label:option.title,value:String(option.id)})))||[],value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.departmentId),onChange:onSelected,onReset:()=>onReset("departmentId",""),onUpdate:onUpdate})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(CustomFilter/* default */.A,{type:"radio",label:"Status",name:"status",options:(0,options/* getOptionsFromEnum */.uf)(UserStatus).map(option=>({label:(0,common/* capitalize */.ZH)(option.label),value:String(option.value)})),value:String(selectedFilters===null||selectedFilters===void 0?void 0:selectedFilters.status),onChange:onSelected,onReset:()=>onReset("status",""),onUpdate:onUpdate})}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(CustomFilter/* default */.A,{type:"datepicker",label:"Registered Date",name:"dateRange",onChange:value=>setSelectedFilters(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{dateRange:value})),onReset:()=>onReset("dateRange",[]),onUpdate:onUpdate})}),/**  Find the selected filter and render the component based on the name of the filter */Object.keys(moreComponents).map(key=>{const _key=key;return moreFilters!==null&&moreFilters!==void 0&&moreFilters.includes(_key)?moreComponents[_key]:null;}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(more/* default */.A,{options:moreFiltersOptions===null||moreFiltersOptions===void 0?void 0:moreFiltersOptions.map(option=>({label:option.label,value:option.value})),onChange:value=>setMoreFilters(value),value:moreFilters})})]});};/* harmony default export */ const filters = (Filters);
// EXTERNAL MODULE: ./node_modules/antd/es/transfer/index.js + 5 modules
var transfer = __webpack_require__(97579);
// EXTERNAL MODULE: ./src/Components/Organisms/Skeletons/index.tsx
var Skeletons = __webpack_require__(70619);
// EXTERNAL MODULE: ./src/Components/Atoms/ServerErrorHandler/index.tsx
var ServerErrorHandler = __webpack_require__(13321);
// EXTERNAL MODULE: ./src/helpers/error-handler.ts
var error_handler = __webpack_require__(38266);
;// ./src/Components/Organisms/Dashboard/Employees/Roles/modal.tsx
const UserRoleModal=props=>{var _rolesData$data;const{openModal,onCancel,record,reloadTableData,recordData,permissions:{addUserRole}}=props;const[form]=es_form/* default */.A.useForm();// user module
const module=(0,react.useMemo)(()=>new User/* UserModule */.U(),[]);const roleModule=(0,react.useMemo)(()=>new Roles/* RolesModule */.C(),[]);const[rolesData,setRolesData]=(0,react.useState)();let selectedKeys=[];if(recordData&&recordData.userRole){var _recordData$userRole;recordData===null||recordData===void 0?void 0:(_recordData$userRole=recordData.userRole)===null||_recordData$userRole===void 0?void 0:_recordData$userRole.map(ele=>{selectedKeys.push(ele.Role.id.toString());});}const[targetKeys,setTargetKeys]=(0,react.useState)(selectedKeys);const handleErrors=err=>{const error=(0,error_handler/* errorHandler */.r)(err);if(typeof error.message=="string"){setRolesData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},rolesData),{},{error:error.message}));}else{let errData=(0,ServerErrorHandler/* HandleServerErrors */.p)(error.message,[]);form.setFields(errData);setRolesData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},rolesData),{},{error:""}));}};const handleAlertClose=()=>{setRolesData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},rolesData),{},{error:""}));};const getRolesData=(0,react.useCallback)(()=>{roleModule.getAllRecords().then(res=>{var _res$data;if(res.data&&(_res$data=res.data)!==null&&_res$data!==void 0&&_res$data.data){setRolesData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},res.data),{},{loading:false}));}}).catch(err=>{handleErrors(err);});},[form,record,module,roleModule]);const filterOption=(inputValue,option)=>{var _option$description;return(option===null||option===void 0?void 0:(_option$description=option.description)===null||_option$description===void 0?void 0:_option$description.indexOf(inputValue===null||inputValue===void 0?void 0:inputValue.toLowerCase()))>-1;};const handleChange=newTargetKeys=>{setTargetKeys(newTargetKeys);};(0,react.useEffect)(()=>{setRolesData({loading:true});getRolesData();},[openModal,form]);const onFinish=formValues=>{if(formValues.roleIds){if(addUserRole===true){var _formValues$roleIds;setRolesData((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},rolesData),{},{buttonLoading:true}));const formData=formValues===null||formValues===void 0?void 0:(_formValues$roleIds=formValues.roleIds)===null||_formValues$roleIds===void 0?void 0:_formValues$roleIds.map(ele=>Number(ele));module.addRoles({roleIds:formData},record).then(res=>{reloadTableData();onCancel();setRolesData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));message/* default */.Ay.success("Saved Successfully");}).catch(err=>{handleErrors(err);setRolesData(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{loading:false}));});let removedRoles=[];selectedKeys.map(ele=>{if(!targetKeys.includes(ele))removedRoles.push(Number(ele));});if((removedRoles===null||removedRoles===void 0?void 0:removedRoles.length)>0){module.removeRoles({roleIds:removedRoles},record).catch(err=>{message/* default */.Ay.error(err.message);});}}else{message/* default */.Ay.error("You don't have permission to manage roles, please contact your admin");}}else{message/* default */.Ay.success("No changes made");onCancel();}};return/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomModal */.jo,{visible:openModal,closable:true,onCancel:onCancel,titleText:"Manage Roles",showFooter:false,children:rolesData!==null&&rolesData!==void 0&&rolesData.loading?/*#__PURE__*/(0,jsx_runtime.jsx)(Skeletons/* default */.A,{items:10}):/*#__PURE__*/(0,jsx_runtime.jsxs)(es_form/* default */.A,{className:styles_module/* default */.A.form,onFinish:onFinish,form:form,children:[(rolesData===null||rolesData===void 0?void 0:rolesData.error)&&/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomErrorAlert */.WZ,{description:rolesData===null||rolesData===void 0?void 0:rolesData.error,isClosable:true,onClose:handleAlertClose}),/*#__PURE__*/(0,jsx_runtime.jsx)("div",{children:/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default */.A.Item,{name:"roleIds",rules:[{required:false}],children:/*#__PURE__*/(0,jsx_runtime.jsx)(transfer/* default */.A,{dataSource:rolesData===null||rolesData===void 0?void 0:(_rolesData$data=rolesData.data)===null||_rolesData$data===void 0?void 0:_rolesData$data.map((ele,index)=>{var _ele$title;return{key:ele.id.toString(),title:ele.title,description:(_ele$title=ele.title)===null||_ele$title===void 0?void 0:_ele$title.toLowerCase()};}),listStyle:{width:250,height:400},showSearch:true,filterOption:filterOption,targetKeys:targetKeys,onChange:handleChange//onSearch={handleSearch}
,render:item=>item.title})})}),/*#__PURE__*/(0,jsx_runtime.jsxs)("div",{className:styles_module/* default */.A.footer,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomButton */.Sv,{size:"normal",fontSize:"sm",onClick:onCancel,type:"plain",children:"Cancel"}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* CustomButton */.Sv,{type:"primary",size:"normal",fontSize:"sm",htmlType:"submit",loading:rolesData===null||rolesData===void 0?void 0:rolesData.buttonLoading,children:"Save"})]})]})});};
// EXTERNAL MODULE: ./src/Components/Atoms/ErrorCodes/index.tsx + 1 modules
var ErrorCodes = __webpack_require__(36250);
// EXTERNAL MODULE: ./src/Modules/User/permissions.ts + 2 modules
var User_permissions = __webpack_require__(39905);
;// ./src/Components/Organisms/Dashboard/Employees/index.tsx
const breadCrumbsData=[{text:"Home",isLink:true,path:"/"},{isLink:false,text:"Employees"}];const EmployeesSettings=()=>{// available permissions for this module
const permissionSlug=(0,common/* getPermissionSlugs */.AH)(User_permissions/* UserPermissionsEnum */.v);const{userPermissions}=(0,es/* useSelector */.d4)(state=>state.usersReducer);const permissions=userPermissions;const{readUser,createUser,updateUser,addUserRole}=permissions;const[currentEditType,setcurrentEditType]=(0,react.useState)({editType:"new",recordId:0,openModal:false,form:'1'});const[editUserRoles,setEditUserRoles]=(0,react.useState)({recordId:0,openModal:false,recordData:{}});const module=(0,react.useMemo)(()=>new User/* UserModule */.U(),[]);const{data,meta,onRefresh,loading}=(0,hooks/* useFetchData */.Gs)({method:module.getAllRecords});const[selectedFilters,setSelectedFilters]=(0,react.useState)({dateRange:[]});const onCancelClick=()=>{if(createUser===false){message/* default */.Ay.error("You don't have permission to create new user");return;}setcurrentEditType((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentEditType),{},{openModal:!currentEditType.openModal,editType:"new",recordId:0,form:'1'}));};const onEditIconClick=(record,currentForm)=>{if(updateUser===false){message/* default */.Ay.error("You don't have permission to update this user");return;}setcurrentEditType((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},currentEditType),{},{editType:"edit",recordId:record.id,openModal:true,form:currentForm?currentForm:'1'}));};const onManageRolesClick=record=>{if(addUserRole===false){message/* default */.Ay.error("You don't have permission to manage roles for this user");return;}setEditUserRoles((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},editUserRoles),{},{recordId:record.id,recordData:record,openModal:true}));};const onUpdate=(0,react.useCallback)(query=>{var _selectedFilters$date,_selectedFilters$date2;const fromDateString=((_selectedFilters$date=selectedFilters.dateRange)===null||_selectedFilters$date===void 0?void 0:_selectedFilters$date[0])||"";const toDateString=((_selectedFilters$date2=selectedFilters.dateRange)===null||_selectedFilters$date2===void 0?void 0:_selectedFilters$date2[1])||"";const fromDate=fromDateString?(0,dateHandler/* convertDate */.ic)(fromDateString,"yy-mm-dd"):undefined;const toDate=toDateString?(0,dateHandler/* convertDate */.ic)(toDateString,"yy-mm-dd"):undefined;const params=(0,objectSpread2/* default */.A)({fromDate:fromDate,toDate:toDate,status:selectedFilters.status||undefined,name:selectedFilters.name||undefined,organizationId:selectedFilters.organizationId||undefined,departmentId:selectedFilters.departmentId||undefined,userType:selectedFilters.userType||undefined,ids:selectedFilters.ids||undefined,roleIds:selectedFilters.roleIds||undefined,roleSlugs:selectedFilters.roleSlugs||undefined,departmentSlug:selectedFilters.departmentSlug||undefined,email:selectedFilters.email||undefined,phone:selectedFilters.phone||undefined,perPage:selectedFilters.perPage||undefined,page:selectedFilters.page||undefined},query);onRefresh(params);},[selectedFilters,onRefresh]);// Pagination change
const onPaginationChange=(page,pageSize)=>{onUpdate({page,perPage:pageSize});setSelectedFilters(prev=>(0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},prev),{},{page,perPage:pageSize}));};return/*#__PURE__*/(0,jsx_runtime.jsxs)(Layout/* default */.A,{permissionSlug:permissionSlug,children:[/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* PageHeader */.zY,{heading:"Employees",buttonText:"Add New Employee",onButtonClick:onCancelClick,breadCrumbData:breadCrumbsData,showAdd:!!createUser,filters:readUser===true?/*#__PURE__*/(0,jsx_runtime.jsx)(filters,{selectedFilters:selectedFilters,setSelectedFilters:setSelectedFilters,onUpdate:onUpdate}):null}),readUser===true&&/*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[/*#__PURE__*/(0,jsx_runtime.jsx)(TableComponent,{tableData:data||[],tableLoading:loading,onEditIconClick:onEditIconClick,reloadTableData:onUpdate,onManageRolesClick:onManageRolesClick,meta:meta}),/*#__PURE__*/(0,jsx_runtime.jsx)(Atoms/* Pagination */.dK,{total:(meta===null||meta===void 0?void 0:meta.total)||0,current:(meta===null||meta===void 0?void 0:meta.page)||1,defaultPageSize:meta!==null&&meta!==void 0&&meta.perPage?meta===null||meta===void 0?void 0:meta.perPage:10,pageSizeOptions:[10,20,50,100],onChange:onPaginationChange})]}),readUser===false&&/*#__PURE__*/(0,jsx_runtime.jsx)(ErrorCodes/* ErrorCode403 */.$t,{mainMessage:"You don't have permission to view this data"}),currentEditType.openModal&&/*#__PURE__*/(0,jsx_runtime.jsx)(modal/* EmployeeModal */.C,{record:currentEditType.recordId,type:currentEditType.editType,reloadTableData:onUpdate,onCancel:onCancelClick,openModal:currentEditType.openModal,permissions:permissions,currentForm:currentEditType.form}),editUserRoles.openModal&&/*#__PURE__*/(0,jsx_runtime.jsx)(UserRoleModal,{record:editUserRoles.recordId,recordData:editUserRoles.recordData,type:"edit",reloadTableData:onUpdate,onCancel:()=>setEditUserRoles((0,objectSpread2/* default */.A)((0,objectSpread2/* default */.A)({},editUserRoles),{},{openModal:false})),openModal:editUserRoles.openModal,permissions:permissions})]});};/* harmony default export */ const Employees = (EmployeesSettings);

/***/ }),

/***/ 50982:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   j: () => (/* binding */ LeaveRequestModule)
/* harmony export */ });
/* harmony import */ var C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(89379);
/* harmony import */ var _modules_Common_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(21073);
/* harmony import */ var _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(83365);
class LeaveRequestModule{constructor(){this.endPoint="leave-request";this.getAllRecords=query=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.get(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint,{params:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({sortByField:'order',sortOrder:'asc',perPage:4},query)});};this.getOwnRecords=query=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.get(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint+"/own",{params:(0,C_Users_Developer_datportal_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__/* ["default"] */ .A)({},query)});};this.getRecordById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.get(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint+"/findOne/"+id);};this.getLeavesRecordById=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.get(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint+"/findLeavesReportOfUser/"+id);};this.deleteRecord=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.delete(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint+"/remove/"+id);};this.createRecord=data=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.post(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint,data,{headers:_modules_Common_config__WEBPACK_IMPORTED_MODULE_0__/* .FormDataHeader */ .Y});};/**
	 * Update LeaveRequest
	 * @param {number} id - LeaveRequest Id
	 */this.withdrawLeaveRequest=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.patch(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint+"/withdraw/".concat(id));};/**
		 * Update Order
		 * @param {hrActionLeaveRequest} data - Order Number
		 * @param {number} id - Record Id
		 */this.employeeActionLeaveRequest=id=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.patch(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint+"/submitRequest/".concat(id));};/**
		 * Update Order
		 * @param {hrActionLeaveRequest} data - Order Number
		 * @param {number} id - Record Id
		 */this.hrActionLeaveRequest=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.patch(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint+"/hrAction/".concat(id),data);};/**
		 * Update Order
		 * @param {hrActionLeaveRequest} data - Order Number
		 * @param {number} id - Record Id
		 */this.projectManagerActionLeaveRequest=(data,id)=>{console.log(id,'id');return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.patch(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint+"/projectManagerAction/".concat(id),data);};/**
		 * Update Order
		 * @param {financeActionLeaveRequest} data - Order Number
		 * @param {number} id - Record Id
		 */this.financeActionLeaveRequest=(data,id)=>{return _services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* ["default"] */ .A.patch(_services_axiosInstance__WEBPACK_IMPORTED_MODULE_1__/* .BASE_URL */ .C+this.endPoint+"/financeAction/".concat(id),data);};}}

/***/ }),

/***/ 59179:
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Fq: () => (/* binding */ TransactionStatusOptions),
/* harmony export */   GV: () => (/* binding */ ClientStatusOptions),
/* harmony export */   jD: () => (/* binding */ QuotationTypeOptions),
/* harmony export */   ln: () => (/* binding */ FinanceStatusOptions),
/* harmony export */   uf: () => (/* binding */ getOptionsFromEnum),
/* harmony export */   yB: () => (/* binding */ PaymentScheduleOptions)
/* harmony export */ });
/* harmony import */ var _commonEnums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(2360);
/** Used to get options from enum object */const getOptionsFromEnum=enumObject=>{const enumEntries=Object.entries(enumObject);const options=enumEntries.filter(_ref=>{let[key]=_ref;return isNaN(Number(key));}).map(_ref2=>{let[key,value]=_ref2;return{label:key,value:value};});return options;};/** Finance Status Options */const FinanceStatusOptions=getOptionsFromEnum(_commonEnums__WEBPACK_IMPORTED_MODULE_0__/* .PermitFinanceStatus */ .cY);/** Client Status Options */const ClientStatusOptions=getOptionsFromEnum(_commonEnums__WEBPACK_IMPORTED_MODULE_0__/* .PermitClientStatus */ .Vn);/** Government Transaction Status Options */const TransactionStatusOptions=getOptionsFromEnum(_commonEnums__WEBPACK_IMPORTED_MODULE_0__/* .TransactionStatus */ .x8);/** Quotation Type Options */const QuotationTypeOptions=getOptionsFromEnum(_commonEnums__WEBPACK_IMPORTED_MODULE_0__/* .QuotationTypeEnum */ .eE);/** Supervision Payment Schedule Options */const PaymentScheduleOptions=getOptionsFromEnum(_commonEnums__WEBPACK_IMPORTED_MODULE_0__/* .SupervisionPaymentSchedule */ .ve);

/***/ }),

/***/ 17640:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 45618:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 97492:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 31815:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 89052:
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ 82787:
/***/ (() => {

/* (ignored) */

/***/ })

}]);